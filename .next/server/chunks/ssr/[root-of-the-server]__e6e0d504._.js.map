{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/components/Slider/Slide.tsx"],"sourcesContent":["import Image from 'next/image';\r\nimport Link from 'next/link';\r\n\r\ntype SliderProps = {\r\n  name: string;\r\n  img: string;\r\n  link: string;\r\n  external?: boolean;\r\n};\r\n\r\nexport default function Slide({ name, img, link, external }: SliderProps) {\r\n  if (external) {\r\n    return (\r\n      <a href={link} target=\"_blank\" rel=\"noopener noreferrer\" className='bg-white select-none flex items-end xl:hover:scale-105 lg:hover:scale-105 h-[400px] md:h-[300px] md:min-w-[120px] min-w-[250px] sm:h-[500px] sm:min-w-[280px] rounded-3xl m-3 p-4 sm:cursor-grab sm:active:cursor-grabbing relative overflow-hidden transition ease-in-out duration-300'>\r\n        {name && \r\n          <>\r\n            <div className='flex flex-col gap-1'>\r\n              <p className='md:text-2xl text-4xl font-bold z-[2]'>{name}</p>\r\n            </div>      \r\n            {img && \r\n              <Image src={img} fill alt={name} style={{objectFit:\"contain\"}} priority className='rounded-3xl select-none pointer-events-none' sizes='35vw'/>\r\n            }\r\n          </>    \r\n        }  \r\n      </a>\r\n    );\r\n  }\r\n  return (\r\n    <Link href={link} className='select-none bg-white flex items-end xl:hover:scale-105 lg:hover:scale-105 h-[400px] md:h-[300px] md:min-w-[120px] min-w-[250px] sm:h-[500px] sm:min-w-[280px] rounded-3xl m-3 p-4 sm:cursor-grab sm:active:cursor-grabbing relative overflow-hidden transition ease-in-out duration-300'>\r\n      {name && \r\n        <>\r\n          <div className='flex flex-col gap-1'>\r\n            <p className='md:text-2xl text-4xl font-bold z-[2]'>{name}</p>\r\n          </div>      \r\n          {img && \r\n            <Image src={img} fill alt={name} style={{objectFit:\"contain\"}} priority className='rounded-3xl select-none pointer-events-none' sizes='35vw'/>\r\n          }\r\n        </>    \r\n      }  \r\n    </Link>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AASe,SAAS,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAe;IACtE,IAAI,UAAU;QACZ,qBACE,8OAAC;YAAE,MAAM;YAAM,QAAO;YAAS,KAAI;YAAsB,WAAU;sBAChE,sBACC;;kCACE,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAE,WAAU;sCAAwC;;;;;;;;;;;oBAEtD,qBACC,8OAAC,wIAAK;wBAAC,KAAK;wBAAK,IAAI;wBAAC,KAAK;wBAAM,OAAO;4BAAC,WAAU;wBAAS;wBAAG,QAAQ;wBAAC,WAAU;wBAA8C,OAAM;;;;;;;;;;;;;IAMlJ;IACA,qBACE,8OAAC,uKAAI;QAAC,MAAM;QAAM,WAAU;kBACzB,sBACC;;8BACE,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAE,WAAU;kCAAwC;;;;;;;;;;;gBAEtD,qBACC,8OAAC,wIAAK;oBAAC,KAAK;oBAAK,IAAI;oBAAC,KAAK;oBAAM,OAAO;wBAAC,WAAU;oBAAS;oBAAG,QAAQ;oBAAC,WAAU;oBAA8C,OAAM;;;;;;;;;;;;;AAMlJ","debugId":null}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/components/Slider/Slider.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useRef } from \"react\";\r\nimport Slide from \"./Slide\";\r\n\r\nexport type Category = {\r\n  id: number;\r\n  name: string;\r\n  link: string;\r\n  img: string;\r\n  external?: boolean;\r\n};\r\n\r\nexport type SliderProps = { items: Category[]};\r\n\r\nexport default function Slider({ items }: SliderProps) {\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [startX, setStartX] = useState(0);\r\n  const [scrollLeft, setScrollLeft] = useState(0);\r\n  const handleMouseDown = (e: React.MouseEvent) => {\r\n    if (containerRef.current) {\r\n      setIsDragging(true);\r\n      setStartX(e.pageX);\r\n      setScrollLeft(containerRef.current.scrollLeft);\r\n    }\r\n  };\r\n  const handleMouseUp = () => { setIsDragging(false); };\r\n  const handleMouseMove = (e: React.MouseEvent) => {\r\n    if (!isDragging || !containerRef.current) return;\r\n    const x = e.pageX;\r\n    const diffX = x - startX;\r\n    const newScrollLeft = scrollLeft - diffX;\r\n    containerRef.current.scrollLeft = newScrollLeft;\r\n  };\r\n  return (\r\n    <div ref={containerRef} className=\"xl:grid-cols-4 lg:grid-cols-3 grid md:grid-cols-3 sm:flex sm:items-center sm:overflow-x-scroll sm:snap-x sm:snap-mandatory sm:cursor-grab select-none sm:h-[550px]\" onMouseDown={handleMouseDown} onMouseUp={handleMouseUp} onMouseLeave={handleMouseUp} onMouseMove={handleMouseMove}>\r\n      {items.map((category) => (\r\n        <Slide name={category.name} key={category.id} link={category.link} img={category.img} external={category.external}/>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAee,SAAS,OAAO,EAAE,KAAK,EAAe;IACnD,MAAM,eAAe,IAAA,+MAAM,EAAwB;IACnD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,kBAAkB,CAAC;QACvB,IAAI,aAAa,OAAO,EAAE;YACxB,cAAc;YACd,UAAU,EAAE,KAAK;YACjB,cAAc,aAAa,OAAO,CAAC,UAAU;QAC/C;IACF;IACA,MAAM,gBAAgB;QAAQ,cAAc;IAAQ;IACpD,MAAM,kBAAkB,CAAC;QACvB,IAAI,CAAC,cAAc,CAAC,aAAa,OAAO,EAAE;QAC1C,MAAM,IAAI,EAAE,KAAK;QACjB,MAAM,QAAQ,IAAI;QAClB,MAAM,gBAAgB,aAAa;QACnC,aAAa,OAAO,CAAC,UAAU,GAAG;IACpC;IACA,qBACE,8OAAC;QAAI,KAAK;QAAc,WAAU;QAAqK,aAAa;QAAiB,WAAW;QAAe,cAAc;QAAe,aAAa;kBACtS,MAAM,GAAG,CAAC,CAAC,yBACV,8OAAC,gJAAK;gBAAC,MAAM,SAAS,IAAI;gBAAoB,MAAM,SAAS,IAAI;gBAAE,KAAK,SAAS,GAAG;gBAAE,UAAU,SAAS,QAAQ;eAAhF,SAAS,EAAE;;;;;;;;;;AAIpD","debugId":null}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/components/Slider/RollingSlider.tsx"],"sourcesContent":["import Slider, { Category } from \"./Slider\";\r\n\r\ntype RollingSliderProps = { categories: Category[]};\r\n\r\nexport default function RollingSlider({ categories }: RollingSliderProps) {\r\n  if (!categories || categories.length === 0) {\r\n    return <div className=\"text-center py-4\">Aucune catégorie disponible pour votre rôle</div>;\r\n  }\r\n  return (\r\n    <section id=\"slideshow\" className=\"w-full self-center mx-auto max-w-[1500px]\">\r\n      <Slider items={categories} />\r\n    </section>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;;;AAIe,SAAS,cAAc,EAAE,UAAU,EAAsB;IACtE,IAAI,CAAC,cAAc,WAAW,MAAM,KAAK,GAAG;QAC1C,qBAAO,8OAAC;YAAI,WAAU;sBAAmB;;;;;;IAC3C;IACA,qBACE,8OAAC;QAAQ,IAAG;QAAY,WAAU;kBAChC,cAAA,8OAAC,iJAAM;YAAC,OAAO;;;;;;;;;;;AAGrB","debugId":null}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/components/Common/Button/IconButton.tsx"],"sourcesContent":["import { ReactNode, MouseEventHandler } from 'react'\n\ntype IconButtonSize = 'xs' | 'small' | 'medium'\ntype IconButtonInk = 'default' | 'black'\ntype TooltipLocation = 'left' | 'bottom' | 'top' | 'none'\n\nconst wrapperSizeLookup: Record<IconButtonSize, { height: string; width: string }> = {\n  xs: { height: 'h-6', width: 'w-6' },\n  small: { height: 'h-9', width: 'w-9' },\n  medium: { height: 'h-10', width: 'w-10' },\n}\n\nconst inkSizeLookup: Record<IconButtonSize, { height: string; width: string }> = {\n  xs: { height: 'h-6', width: 'w-6' },\n  small: { height: 'h-10', width: 'w-10' },\n  medium: { height: 'h-11', width: 'w-11' },\n}\n\nconst inkHoverColorLookup: Record<IconButtonInk, string> = {\n  default: 'hover:bg-gray-400 group-hover:bg-opacity-10',\n  black: 'hover:bg-black group-hover:bg-opacity-10',\n}\n\ninterface IconButtonProps {\n  size: IconButtonSize\n  ink?: IconButtonInk\n  label: string\n  tooltipLocation: TooltipLocation\n  imgComponent: ReactNode\n  onClickHandler: MouseEventHandler<HTMLDivElement>\n}\n\nexport default function IconButton({\n  size,\n  ink = 'default',\n  label,\n  tooltipLocation,\n  imgComponent,\n  onClickHandler,\n}: IconButtonProps) {\n  return (\n    <div\n      className={`\n        relative\n        cursor-pointer\n        flex\n        justify-center\n        items-center\n        bg-transparent\n        group\n        ${wrapperSizeLookup[size].height}\n        ${wrapperSizeLookup[size].width}\n      `}\n      onClick={onClickHandler}\n    >\n      {imgComponent}\n      <div\n        className={`\n          absolute\n          rounded-full\n          top-1/2\n          left-1/2\n          transform\n          -translate-x-1/2\n          -translate-y-1/2\n          transition-all\n          ease-in-out\n          duration-300\n          ${inkHoverColorLookup[ink]}\n          z-10\n          ${inkSizeLookup[size].height}\n          ${inkSizeLookup[size].width}\n        `}\n      >\n        {tooltipLocation === 'left' && (\n          <div\n            className={`\n              absolute\n              w-max\n              p-2\n              bg-black\n              rounded-md\n              top-1/2\n              right-14\n              transform\n              -translate-y-1/2\n              bg-opacity-60\n              hidden\n              group-hover:block\n            `}\n          >\n            <p className=\"text-xs text-white m-0 p-0\">\n              {label}\n            </p>\n          </div>\n        )}\n        {tooltipLocation === 'bottom' && (\n          <div\n            className={`\n              absolute\n              w-max\n              p-2\n              bg-black\n              rounded-md\n              transform\n              left-1/2\n              -translate-x-1/2\n              -bottom-8\n              bg-opacity-60\n              hidden\n              group-hover:block\n            `}\n          >\n            <p className=\"text-xs text-white m-0 p-0\">\n              {label}\n            </p>\n          </div>\n        )}\n        {tooltipLocation === 'top' && (\n          <div\n            className={`\n              absolute\n              w-max\n              p-2\n              bg-black\n              rounded-md\n              transform\n              left-1/2\n              -translate-x-1/2\n              bottom-full\n              bg-opacity-60\n              hidden\n              group-hover:block\n            `}\n          >\n            <p className=\"text-xs text-white m-0 p-0\">\n              {label}\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;AAMA,MAAM,oBAA+E;IACnF,IAAI;QAAE,QAAQ;QAAO,OAAO;IAAM;IAClC,OAAO;QAAE,QAAQ;QAAO,OAAO;IAAM;IACrC,QAAQ;QAAE,QAAQ;QAAQ,OAAO;IAAO;AAC1C;AAEA,MAAM,gBAA2E;IAC/E,IAAI;QAAE,QAAQ;QAAO,OAAO;IAAM;IAClC,OAAO;QAAE,QAAQ;QAAQ,OAAO;IAAO;IACvC,QAAQ;QAAE,QAAQ;QAAQ,OAAO;IAAO;AAC1C;AAEA,MAAM,sBAAqD;IACzD,SAAS;IACT,OAAO;AACT;AAWe,SAAS,WAAW,EACjC,IAAI,EACJ,MAAM,SAAS,EACf,KAAK,EACL,eAAe,EACf,YAAY,EACZ,cAAc,EACE;IAChB,qBACE,8OAAC;QACC,WAAW,CAAC;;;;;;;;QAQV,EAAE,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC;QACjC,EAAE,iBAAiB,CAAC,KAAK,CAAC,KAAK,CAAC;MAClC,CAAC;QACD,SAAS;;YAER;0BACD,8OAAC;gBACC,WAAW,CAAC;;;;;;;;;;;UAWV,EAAE,mBAAmB,CAAC,IAAI,CAAC;;UAE3B,EAAE,aAAa,CAAC,KAAK,CAAC,MAAM,CAAC;UAC7B,EAAE,aAAa,CAAC,KAAK,CAAC,KAAK,CAAC;QAC9B,CAAC;;oBAEA,oBAAoB,wBACnB,8OAAC;wBACC,WAAW,CAAC;;;;;;;;;;;;;YAaZ,CAAC;kCAED,cAAA,8OAAC;4BAAE,WAAU;sCACV;;;;;;;;;;;oBAIN,oBAAoB,0BACnB,8OAAC;wBACC,WAAW,CAAC;;;;;;;;;;;;;YAaZ,CAAC;kCAED,cAAA,8OAAC;4BAAE,WAAU;sCACV;;;;;;;;;;;oBAIN,oBAAoB,uBACnB,8OAAC;wBACC,WAAW,CAAC;;;;;;;;;;;;;YAaZ,CAAC;kCAED,cAAA,8OAAC;4BAAE,WAAU;sCACV;;;;;;;;;;;;;;;;;;;;;;;AAOf","debugId":null}},
    {"offset": {"line": 380, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/components/Common/Calendar/Calendar.tsx"],"sourcesContent":["'use client'\n\nimport { addMonths, addWeeks, eachDayOfInterval, endOfMonth, endOfWeek, format, getDate, getMonth, isSameDay, setMonth, startOfMonth, startOfWeek, subMonths} from 'date-fns'\nimport { fr } from 'date-fns/locale' \nimport { useEffect, useRef, useState } from 'react'\nimport { MdKeyboardArrowLeft, MdKeyboardArrowRight } from 'react-icons/md'\nimport IconButton from '../Button/IconButton'\n\ninterface CalendarProps {\n  targetDate: string | Date\n  onClickDate: (date: Date) => void\n  isModal?: boolean\n  onClose?: () => void\n}\n\nexport default function Calendar({ targetDate, onClickDate, isModal = false, onClose = () => {}}: CalendarProps) {\n  const today = new Date()\n  const calendarRef = useRef<HTMLDivElement | null>(null)\n  const [calendarDate, setCalendarDate] = useState<Date>(new Date())\n  useEffect(() => {\n    const target = new Date(targetDate)\n    const diffMonths =\n      getMonth(target) - getMonth(calendarDate) +\n      12 * (target.getFullYear() - calendarDate.getFullYear())\n    if (diffMonths !== 0) {\n      setCalendarDate(current =>\n        diffMonths > 0 ? addMonths(current, diffMonths) : subMonths(current, Math.abs(diffMonths)),\n      )\n    }\n  }, [targetDate])\n  useEffect(() => {\n    if (!isModal) return\n    const checkOutsideClick = (e: MouseEvent) => {\n      if (calendarRef.current) {\n        const outsideClick = !calendarRef.current.contains(e.target as Node)\n        if (outsideClick) {\n          onClose()\n        }\n      }\n    }\n    document.addEventListener('click', checkOutsideClick)\n    return () => {\n      document.removeEventListener('click', checkOutsideClick)\n    }\n  }, [isModal, onClose])\n  const onClickMoveMonth = (dir: 'prev' | 'next') => {\n    const newDate = new Date(calendarDate)\n    if (dir === 'prev') {\n      setCalendarDate(subMonths(newDate, 1))\n    } else {\n      setCalendarDate(addMonths(newDate, 1))\n    }\n  }\n  const isEqualDate = (a: Date | string, b: Date | string): boolean => {\n    const dateA = new Date(a)\n    const dateB = new Date(b)\n    return isSameDay(dateA, dateB)\n  }\n  const gridHeader = ['L', 'M', 'M', 'J', 'V', 'S', 'D'].map((d, i) => (\n    <div key={i} className=\"flex items-center justify-center h-6 text-gray-500 bg-white\">{d}</div>\n  ))\n  const gridDates = (startDate: Date | string = Date()) => {\n    const baseDate = new Date()\n    const target = new Date(startDate)\n    const targetMonth = getMonth(target)\n    const month = setMonth(baseDate, targetMonth)\n    const monthRangeStart = startOfWeek(startOfMonth(month), { weekStartsOn: 1,})\n    const monthRangeEnd = addWeeks( endOfWeek(endOfMonth(month), { weekStartsOn: 1 }),1,)\n    const dynamicDateColor = ( today: Date, date: Date, targetDate: Date | string, curDateMonth: number, targetMonth: number): string | undefined => {\n      if ((isEqualDate(today, date) && isEqualDate(targetDate, date)) || isEqualDate(today, date)) {\n        return 'bg-blue-500 hover:bg-blue-700 text-red-500'\n      }\n      if (isEqualDate(targetDate, date)) {\n        return 'bg-blue-300 text-blue-700 hover:bg-blue-400'\n      }\n      if (curDateMonth !== targetMonth && !isEqualDate(today, date)) {\n        return 'text-gray-400'\n      }\n      return undefined\n    }\n    const days = eachDayOfInterval({ start: monthRangeStart, end: monthRangeEnd,}).map((date, i) => {\n      const curDateMonth = getMonth(date)\n      return (\n        <div key={i} className=\"flex items-center justify-center bg-white cursor-pointer\" onClick={() => onClickDate(date)}>\n          <p className={` flex items-center justify-center w-6 h-6 transition rounded-full hover:bg-gray-200${ dynamicDateColor( today, date, targetDate, curDateMonth, targetMonth,) ?? ''}`}>\n            {getDate(date)}\n          </p>\n        </div>\n      )\n    })\n    return days\n  }\n  return (\n    <div ref={calendarRef} className=\"px-4 pt-2 pb-6 bg-white\">\n      <div className=\"flex items-center justify-between pl-2.5 pr-1\">\n        <p>{format(new Date(calendarDate), 'MMMM yyyy', { locale: fr })}</p>\n        <div className=\"flex\">\n          <IconButton size=\"xs\" label=\"Previous Month\" tooltipLocation=\"bottom\" imgComponent={\n              <MdKeyboardArrowLeft size=\"20px\" color=\"rgba(95, 105, 119)\"/>\n            }\n            onClickHandler={() => onClickMoveMonth('prev')}\n          />\n          <IconButton size=\"xs\" label=\"Next Month\" tooltipLocation=\"bottom\" imgComponent={\n              <MdKeyboardArrowRight size=\"20px\" color=\"rgba(80, 80, 60)\"/>\n            }\n            onClickHandler={() => onClickMoveMonth('next')}\n          />\n        </div>\n      </div>\n      <div className=\"grid grid-cols-7 mt-2 grid-rows-7 gap-y-1\">{gridHeader}{gridDates(calendarDate)}</div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 605, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/components/GoogleAgenda/Panel/PanelLeftCalendar.tsx"],"sourcesContent":["'use client'\n\nimport Calendar from '../../Common/Calendar/Calendar'\n\ninterface PanelLeftCalendarProps {\n  targetDate: string\n  setTargetDate: (value: string) => void\n}\n\nexport default function PanelLeftCalendar({\n  targetDate,\n  setTargetDate,\n}: PanelLeftCalendarProps) {\n  const onClickDate = (date: Date) => {\n    setTargetDate(date.toString())\n  }\n\n  return (\n    <Calendar\n      targetDate={targetDate}\n      onClickDate={onClickDate}\n    />\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASe,SAAS,kBAAkB,EACxC,UAAU,EACV,aAAa,EACU;IACvB,MAAM,cAAc,CAAC;QACnB,cAAc,KAAK,QAAQ;IAC7B;IAEA,qBACE,8OAAC,+JAAQ;QACP,YAAY;QACZ,aAAa;;;;;;AAGnB","debugId":null}},
    {"offset": {"line": 631, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/components/GoogleAgenda/Panel/PanelLeft.tsx"],"sourcesContent":["'use client'\n\nimport { getHours, getMinutes, set } from 'date-fns'\nimport Image from 'next/image'\nimport PanelLeftCalendar from './PanelLeftCalendar'\n\ninterface PanelLeftProps {\n  targetDate: string\n  setTargetDate: (value: string) => void\n  onClickNewEvent: (basis?: { startDate: string; endDate: string }) => void\n}\n\nexport default function PanelLeft({\n  targetDate,\n  setTargetDate,\n  onClickNewEvent,\n}: PanelLeftProps) {\n  const onClickCreate = () => {\n    const now = new Date()\n    const newEventBaseDate = set(new Date(targetDate), {\n      hours: getHours(now),\n      minutes: getMinutes(now),\n    }).toString()\n\n    onClickNewEvent({\n      startDate: newEventBaseDate,\n      endDate: newEventBaseDate,\n    })\n  }\n\n  return (\n    <div>\n      <div className=\"pl-2 my-4\">\n        <button\n          className=\"flex items-center justify-center h-12 p-3.5 text-sm transition bg-white border rounded-full shadow-md border-opacity-30 min-w-56 hover:shadow-xl hover:bg-blue-50\"\n          onClick={onClickCreate}\n        >\n          <Image\n            src=\"/createIcon.png\"\n            height={32}\n            width={32}\n            alt=\"create-icon\"\n          />\n          <span className=\"pr-3 ml-3 font-normal tracking-wide text-gray-500\">\n            Créer\n          </span>\n        </button>\n      </div>\n      <PanelLeftCalendar targetDate={targetDate} setTargetDate={setTargetDate} />\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AACA;AACA;AAJA;;;;;AAYe,SAAS,UAAU,EAChC,UAAU,EACV,aAAa,EACb,eAAe,EACA;IACf,MAAM,gBAAgB;QACpB,MAAM,MAAM,IAAI;QAChB,MAAM,mBAAmB,IAAA,yIAAG,EAAC,IAAI,KAAK,aAAa;YACjD,OAAO,IAAA,mJAAQ,EAAC;YAChB,SAAS,IAAA,uJAAU,EAAC;QACtB,GAAG,QAAQ;QAEX,gBAAgB;YACd,WAAW;YACX,SAAS;QACX;IACF;IAEA,qBACE,8OAAC;;0BACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,WAAU;oBACV,SAAS;;sCAET,8OAAC,wIAAK;4BACJ,KAAI;4BACJ,QAAQ;4BACR,OAAO;4BACP,KAAI;;;;;;sCAEN,8OAAC;4BAAK,WAAU;sCAAoD;;;;;;;;;;;;;;;;;0BAKxE,8OAAC,2KAAiB;gBAAC,YAAY;gBAAY,eAAe;;;;;;;;;;;;AAGhE","debugId":null}},
    {"offset": {"line": 720, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/utils/types.ts"],"sourcesContent":["export const ThemeColorTypes = {\n  RED: 0,\n  GREEN: 1,\n  GOLD: 2,\n  BLUE: 3,\n  CYAN: 4,\n  PURPLE: 5,\n  BROWN: 6,\n} as const\n\nexport type ThemeColorType =\n  (typeof ThemeColorTypes)[keyof typeof ThemeColorTypes]\n\nexport const EventRepeatTypes = {\n  DAILY: 0,\n  WEEKLY: 1,\n  BI_WEEKLY: 2,\n  MONTHLY: 3,\n  WEEK_DAYS: 4,\n} as const\n\nexport type EventRepeatType =\n  (typeof EventRepeatTypes)[keyof typeof EventRepeatTypes]\n\nexport const EventInviteStatusTypes = {\n  PENDING: 0,\n  ACCEPTED: 1,\n  DECLINED: 2,\n} as const\n\nexport type EventInviteStatusType =\n  (typeof EventInviteStatusTypes)[keyof typeof EventInviteStatusTypes]\n\nexport const CalendarViewTypes = {\n  WEEK_VIEW: 1,\n} as const\n\nexport type CalendarViewType =\n  (typeof CalendarViewTypes)[keyof typeof CalendarViewTypes]\n\nexport const RepeatChangesTypes = {\n  CHANGE: 'change',\n  DELETE: 'delete',\n} as const\n\nexport type RepeatChangesType =\n  (typeof RepeatChangesTypes)[keyof typeof RepeatChangesTypes]\n\nexport const MINUTE_SEGMENT_INDEX = {\n  0: 0,\n  15: 1,\n  30: 2,\n  45: 3,\n} as const\n\n// \"0\" | \"15\" | \"30\" | \"45\"\nexport type MinuteSegmentKey = keyof typeof MINUTE_SEGMENT_INDEX\n\n// 0 | 1 | 2 | 3\nexport type MinuteIndex = (typeof MINUTE_SEGMENT_INDEX)[MinuteSegmentKey]\n\n// On cast d'abord vers unknown, puis vers MinuteSegmentKey[]\nexport const MINUTE_SEGMENT_KEYS =\n  Object.keys(MINUTE_SEGMENT_INDEX) as unknown as MinuteSegmentKey[]\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAO,MAAM,kBAAkB;IAC7B,KAAK;IACL,OAAO;IACP,MAAM;IACN,MAAM;IACN,MAAM;IACN,QAAQ;IACR,OAAO;AACT;AAKO,MAAM,mBAAmB;IAC9B,OAAO;IACP,QAAQ;IACR,WAAW;IACX,SAAS;IACT,WAAW;AACb;AAKO,MAAM,yBAAyB;IACpC,SAAS;IACT,UAAU;IACV,UAAU;AACZ;AAKO,MAAM,oBAAoB;IAC/B,WAAW;AACb;AAKO,MAAM,qBAAqB;IAChC,QAAQ;IACR,QAAQ;AACV;AAKO,MAAM,uBAAuB;IAClC,GAAG;IACH,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AASO,MAAM,sBACX,OAAO,IAAI,CAAC","debugId":null}},
    {"offset": {"line": 775, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/utils/helpers.ts"],"sourcesContent":["import {\n  closestTo,\n  eachHourOfInterval,\n  endOfDay,\n  endOfWeek,\n  getHours,\n  getMinutes,\n  set as setDate,\n  startOfDay,\n  startOfWeek,\n} from 'date-fns'\nimport {\n  CalendarViewTypes,\n  CalendarViewType,\n  EventRepeatTypes,\n  EventRepeatType,\n  MINUTE_SEGMENT_INDEX,\n  MINUTE_SEGMENT_KEYS,\n  MinuteSegmentKey,\n  MinuteIndex,\n  ThemeColorTypes,\n  ThemeColorType,\n} from './types'\n\nexport const colorLookup: Record<ThemeColorType, string> = {\n  [ThemeColorTypes.RED]: 'bg-red-500',\n  [ThemeColorTypes.GREEN]: 'bg-green-500',\n  [ThemeColorTypes.GOLD]: 'bg-gold-500',\n  [ThemeColorTypes.BLUE]: 'bg-blue-500',\n  [ThemeColorTypes.CYAN]: 'bg-cyan-500',\n  [ThemeColorTypes.PURPLE]: 'bg-purple-500',\n  [ThemeColorTypes.BROWN]: 'bg-brown-500',\n}\n\nexport const repeatTypeStringLookup: Record<EventRepeatType | -1, string> = {\n  [-1]: 'Does not repeat',\n  [EventRepeatTypes.DAILY]: 'Daily',\n  [EventRepeatTypes.WEEKLY]: 'Weekly',\n  [EventRepeatTypes.BI_WEEKLY]: 'Bi-weekly',\n  [EventRepeatTypes.MONTHLY]: 'Monthly',\n  [EventRepeatTypes.WEEK_DAYS]: 'Week days',\n}\n\nexport const isValidTime = (strValue: string): [boolean, number, number] => {\n  const trimmed = strValue.trim()\n  const split = trimmed.split(':')\n\n  if (split.length !== 2) return [false, 0, 0]\n\n  const hour = Number(split[0])\n  const minutes = Number(split[1])\n\n  if (isNaN(hour) || isNaN(minutes)) return [false, 0, 0]\n  if (hour < 0 || hour > 23) return [false, 0, 0]\n  if (minutes < 0 || minutes > 59) return [false, 0, 0]\n\n  return [true, hour, minutes]\n}\n\nexport const sortEventBlocks = <T extends Record<string, any>>(\n  events: T[],\n  key: keyof T,\n  isAscending = true,\n): T[] => {\n  const compFunc = (a: number | Date, b: number | Date, asc: boolean) =>\n    asc ? (a < b ? -1 : a > b ? 1 : 0) : (a < b ? 1 : a > b ? -1 : 0)\n\n  return events\n    .slice()\n    .sort((a, b) => {\n      if (key === 'startDate' || key === 'endDate' || key === 'createdAt') {\n        return compFunc(\n          new Date(a[key] as any),\n          new Date(b[key] as any),\n          isAscending,\n        )\n      }\n\n      if (a[key] === b[key]) {\n        return compFunc(\n          new Date(a['startDate'] as any),\n          new Date(b['startDate'] as any),\n          isAscending,\n        )\n      }\n\n      return compFunc(a[key] as any, b[key] as any, isAscending)\n    })\n}\n\nexport interface DayViewHourSegment {\n  events: any[]\n  startColIndex: number\n  colCount: number\n  baseZIndex: number\n}\n\nexport type DayViewHours = Record<\n  number,\n  Record<MinuteSegmentKey, DayViewHourSegment>\n>\n\nexport const getBaseDayViewEvents = () => {\n  const hours: DayViewHours = Array(24)\n    .fill(null)\n    .map((_, i) => i)\n    .reduce<DayViewHours>((acc, cur) => {\n      const segment: Record<MinuteSegmentKey, DayViewHourSegment> = {\n        0: {\n          events: [],\n          startColIndex: 0,\n          colCount: 1,\n          baseZIndex: 1,\n        },\n        15: {\n          events: [],\n          startColIndex: 0,\n          colCount: 1,\n          baseZIndex: 1,\n        },\n        30: {\n          events: [],\n          startColIndex: 0,\n          colCount: 1,\n          baseZIndex: 1,\n        },\n        45: {\n          events: [],\n          startColIndex: 0,\n          colCount: 1,\n          baseZIndex: 1,\n        },\n      }\n      acc[cur] = segment\n      return acc\n    }, {} as DayViewHours)\n\n  return {\n    wholeDayEvents: [] as any[],\n    hours,\n  }\n}\n\nexport interface WeekDayEvents {\n  hours: DayViewHours\n}\n\nexport const getBaseWeekViewEvents = () => {\n  const weekArray = Array(7)\n    .fill(null)\n    .map((_, i) => i)\n\n  const days = weekArray.reduce<Record<number, DayViewHours>>((acc, cur) => {\n    const { hours } = getBaseDayViewEvents()\n    acc[cur] = { ...hours }\n    return acc\n  }, {})\n\n  const wholeDayEvents = weekArray.reduce<\n    Record<\n      number,\n      {\n        incomingRowsMatrix: Record<number, number>\n        events: any[]\n      }\n    >\n  >((acc, cur) => {\n    acc[cur] = {\n      incomingRowsMatrix: {},\n      events: [],\n    }\n    return acc\n  }, {})\n\n  return {\n    wholeDayEvents,\n    days,\n  }\n}\n\nexport const getUpdatedEventBlocksWithPlacement = (\n  events: any[],\n  incomingRowsMatrix: Record<number, number>,\n) => {\n  const list: any[] = []\n  let eventIndex = 0\n  let matrixIndex = 0\n\n  while (eventIndex < events.length) {\n    if (matrixIndex in incomingRowsMatrix) {\n      list.push({ isEmpty: true })\n    } else {\n      list.push({\n        ...events[eventIndex],\n        isEmpty: false,\n      })\n      eventIndex++\n    }\n    matrixIndex++\n  }\n\n  return list\n}\n\nexport const calculateIncomingRowMatrix = (\n  eventsByDay: Record<\n    number,\n    {\n      events: any[]\n      incomingRowsMatrix: Record<number, number>\n    }\n  >,\n  isWeek = false,\n) => {\n  const container: typeof eventsByDay = { ...eventsByDay }\n\n  let baseIncomingRowsMatrix: Record<number, number> = {}\n  let count = 0\n  let rowIndex = 0\n\n  let keys = Object.keys(container).map(Number)\n\n  if (isWeek) {\n    const updated = keys.slice()\n    const temp = updated.shift()\n    if (temp !== undefined) updated.push(temp)\n    keys = updated\n  }\n\n  keys.forEach(day => {\n    if (count === 7) {\n      count = 0\n      baseIncomingRowsMatrix = {}\n    }\n\n    container[day] = {\n      ...container[day],\n      events: sortEventBlocks(container[day].events, 'duration', false),\n    }\n\n    const deletedKeys: number[] = []\n\n    Object.keys(baseIncomingRowsMatrix).forEach(v => {\n      const keyNum = Number(v)\n      if (baseIncomingRowsMatrix[keyNum] === 0) {\n        deletedKeys.push(keyNum)\n        delete baseIncomingRowsMatrix[keyNum]\n      }\n    })\n\n    if (deletedKeys.length > 0) {\n      rowIndex = Math.min(...deletedKeys)\n    }\n\n    container[day] = {\n      ...container[day],\n      incomingRowsMatrix: { ...baseIncomingRowsMatrix },\n    }\n\n    Object.keys(baseIncomingRowsMatrix).forEach(v => {\n      const keyNum = Number(v)\n      baseIncomingRowsMatrix[keyNum] = baseIncomingRowsMatrix[keyNum] - 1\n    })\n\n    container[day].events.forEach(e => {\n      if (e.duration > 0) {\n        baseIncomingRowsMatrix[rowIndex] = e.duration\n        rowIndex += 1\n        while (rowIndex in baseIncomingRowsMatrix) {\n          rowIndex += 1\n        }\n      }\n    })\n\n    count += 1\n  })\n\n  return container\n}\n\nexport const getDateRange = (\n  calendarViewType: CalendarViewType,\n  targetDate: string | Date,\n): [Date, Date] => {\n  const target = new Date(targetDate)\n\n  switch (calendarViewType) {\n    case CalendarViewTypes.WEEK_VIEW: {\n      const weekStart = startOfWeek(target, { weekStartsOn: 1 })\n      const weekEnd = endOfWeek(target, { weekStartsOn: 1 })\n      return [weekStart, endOfDay(weekEnd)]\n    }\n    default:\n      return [startOfDay(target), endOfDay(target)]\n  }\n}\n\nexport const getClosestIndexForDayViewEvents = (\n  date: Date,\n): [number, MinuteSegmentKey] => {\n  const ZERO = setDate(date, { minutes: 0 })\n  const FIFTEEN = setDate(date, { minutes: 15 })\n  const THIRTY = setDate(date, { minutes: 30 })\n  const FOURTYFIVE = setDate(date, { minutes: 45 })\n\n  const closest = closestTo(date, [ZERO, FIFTEEN, THIRTY, FOURTYFIVE])\n  if (!closest) {\n    return [getHours(date), 0]\n  }\n  const m = getMinutes(closest) as 0 | 15 | 30 | 45\n  const minuteKey = ((): MinuteSegmentKey => {\n    switch (m) {\n      case 0:\n        return 0\n      case 15:\n        return 15\n      case 30:\n        return 30\n      case 45:\n        return 45\n      default:\n        return 0\n    }\n  })()\n\n  return [getHours(date), minuteKey]\n}\n\nexport const findEventCoverage = (event: {\n  startDate: string\n  endDate: string\n}) => {\n  const coveredHours = eachHourOfInterval({\n    start: new Date(event.startDate),\n    end: new Date(event.endDate),\n  })\n\n  const startDateMinuteKey = getClosestIndexForDayViewEvents(\n    new Date(event.startDate),\n  )[1]\n  const endDateMinuteKey = getClosestIndexForDayViewEvents(\n    new Date(event.endDate),\n  )[1]\n\n  if (coveredHours.length === 1) {\n    const startSeg = MINUTE_SEGMENT_INDEX[startDateMinuteKey]\n    const endSegRaw = MINUTE_SEGMENT_INDEX[endDateMinuteKey]\n    const endSeg =\n      startSeg === endSegRaw ? ((endSegRaw as MinuteIndex) + 1) : endSegRaw\n\n    return {\n      [coveredHours[0].toString()]: MINUTE_SEGMENT_KEYS.slice(\n        startSeg,\n        endSeg,\n      ) as MinuteSegmentKey[],\n    } as Record<string, MinuteSegmentKey[]>\n  }\n\n  // > 1h\n  const result = coveredHours\n    .map((hour, index) => {\n      if (index === 0) {\n        return {\n          hour: hour.toString(),\n          minuteSegments: MINUTE_SEGMENT_KEYS.slice(\n            MINUTE_SEGMENT_INDEX[startDateMinuteKey],\n          ) as MinuteSegmentKey[],\n        }\n      }\n\n      if (index === coveredHours.length - 1) {\n        const endSegRaw = MINUTE_SEGMENT_INDEX[endDateMinuteKey]\n        const endSeg =\n          endSegRaw === 0 ? ((endSegRaw as MinuteIndex) + 1) : endSegRaw\n\n        return {\n          hour: hour.toString(),\n          minuteSegments: MINUTE_SEGMENT_KEYS.slice(\n            0,\n            endSeg,\n          ) as MinuteSegmentKey[],\n        }\n      }\n\n      return {\n        hour: hour.toString(),\n        minuteSegments: [...MINUTE_SEGMENT_KEYS] as MinuteSegmentKey[],\n      }\n    })\n    .reduce<Record<string, MinuteSegmentKey[]>>((acc, cur) => {\n      acc[cur.hour] = cur.minuteSegments\n      return acc\n    }, {})\n\n  return result\n}\n\nexport const reduceCoverages = (\n  coveragesArray: Record<string, MinuteSegmentKey[]>[],\n) => {\n  const reducedCoverage: Record<number, Record<MinuteSegmentKey, number>> = {}\n\n  coveragesArray.forEach(coverage => {\n    const hourKeys = Object.keys(coverage)\n\n    for (let i = 0; i < hourKeys.length; i++) {\n      const hourNum = getHours(new Date(hourKeys[i]))\n\n      if (!(hourNum in reducedCoverage)) {\n        reducedCoverage[hourNum] = {\n          0: 0,\n          15: 0,\n          30: 0,\n          45: 0,\n        }\n      }\n\n      const minuteSegments = coverage[hourKeys[i]] as MinuteSegmentKey[]\n\n      minuteSegments.forEach(segmentKey => {\n        reducedCoverage[hourNum][segmentKey] =\n          reducedCoverage[hourNum][segmentKey] + 1\n      })\n    }\n  })\n\n  return reducedCoverage\n}\n\nexport const calculateOverlap = (\n  reduceCoverage: Record<number, Record<MinuteSegmentKey, number>>,\n  hoursObject: DayViewHours,\n) => {\n  const coverageHours = Object.keys(reduceCoverage).map(Number)\n\n  coverageHours.forEach(hour => {\n    const coverageMinuteSegments =\n      Object.keys(reduceCoverage[hour]) as unknown as MinuteSegmentKey[]\n\n    coverageMinuteSegments.forEach(minute => {\n      const coverageCount = reduceCoverage[hour][minute]\n      const { events } = hoursObject[hour][minute]\n\n      if (events.length < coverageCount) {\n        const diff = coverageCount - events.length\n        hoursObject[hour][minute].colCount = diff + 1\n        hoursObject[hour][minute].startColIndex = diff\n        hoursObject[hour][minute].baseZIndex = diff\n      }\n    })\n  })\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1162, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/components/Common/Dropdown/Dropdown.tsx"],"sourcesContent":["import { useEffect, useRef } from 'react'\n\ninterface DropdownItem {\n  leftLabel: string\n  rightLabel: string\n  onClickHandler: () => void\n}\n\ninterface DropdownProps {\n  data?: DropdownItem[]\n  onCloseDropdown: () => void\n}\n\nexport default function Dropdown({ data = [], onCloseDropdown,}: DropdownProps) {\n  const dropdownRef = useRef<HTMLDivElement | null>(null)\n  useEffect(() => {\n    const checkOutsideClick = (e: MouseEvent) => {\n      if (dropdownRef.current) {\n        const outsideClick = !dropdownRef.current.contains(e.target as Node)\n        if (outsideClick) {\n          onCloseDropdown()\n        }\n      }\n    }\n    document.addEventListener('click', checkOutsideClick)\n    return () => {\n      document.removeEventListener('click', checkOutsideClick)\n    }\n  }, [onCloseDropdown])\n  const handleOnClick = (handler: () => void) => {\n    handler()\n    onCloseDropdown()\n  }\n  return (\n    <div ref={dropdownRef} className=\"absolute left-0 z-50 py-2 bg-white rounded-md dropdownBoxShadow min-w-168 top-full\">\n      {data.map((d, i) => (\n        <div key={i} onClick={() => handleOnClick(d.onClickHandler)} className=\"flex items-center justify-between px-4 py-2 transition cursor-pointer hover:bg-gray-100\">\n          <div className=\"text-sm\">{d.leftLabel}</div>\n          <div className=\"text-sm text-gray-400\">{d.rightLabel}</div>\n        </div>\n      ))}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAae,SAAS,SAAS,EAAE,OAAO,EAAE,EAAE,eAAe,EAAiB;IAC5E,MAAM,cAAc,IAAA,+MAAM,EAAwB;IAClD,IAAA,kNAAS,EAAC;QACR,MAAM,oBAAoB,CAAC;YACzB,IAAI,YAAY,OAAO,EAAE;gBACvB,MAAM,eAAe,CAAC,YAAY,OAAO,CAAC,QAAQ,CAAC,EAAE,MAAM;gBAC3D,IAAI,cAAc;oBAChB;gBACF;YACF;QACF;QACA,SAAS,gBAAgB,CAAC,SAAS;QACnC,OAAO;YACL,SAAS,mBAAmB,CAAC,SAAS;QACxC;IACF,GAAG;QAAC;KAAgB;IACpB,MAAM,gBAAgB,CAAC;QACrB;QACA;IACF;IACA,qBACE,8OAAC;QAAI,KAAK;QAAa,WAAU;kBAC9B,KAAK,GAAG,CAAC,CAAC,GAAG,kBACZ,8OAAC;gBAAY,SAAS,IAAM,cAAc,EAAE,cAAc;gBAAG,WAAU;;kCACrE,8OAAC;wBAAI,WAAU;kCAAW,EAAE,SAAS;;;;;;kCACrC,8OAAC;wBAAI,WAAU;kCAAyB,EAAE,UAAU;;;;;;;eAF5C;;;;;;;;;;AAOlB","debugId":null}},
    {"offset": {"line": 1231, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/components/Modal/CreateEventModal.tsx"],"sourcesContent":["'use client'\n\nimport {\n  endOfDay,\n  format,\n  getDate,\n  getHours,\n  getMinutes,\n  getMonth,\n  getYear,\n  isAfter,\n  isBefore,\n  set as setDate,\n  startOfDay,\n} from 'date-fns'\nimport { fr } from 'date-fns/locale'\nimport { useEffect, useRef, useState } from 'react'\nimport {\n  MdAccessTime,\n  MdArrowDropDown,\n  MdCheckBox,\n  MdCheckBoxOutlineBlank,\n  MdClose,\n  MdColorLens,\n  MdLocationOn,\n  MdSubject,\n} from 'react-icons/md'\nimport { v4 as uuid } from 'uuid'\nimport {\n  colorLookup,\n  isValidTime,\n  repeatTypeStringLookup,\n} from '../../utils/helpers'\nimport {\n  EventRepeatTypes,\n  EventRepeatType,\n  ThemeColorTypes,\n  ThemeColorType,\n} from '../../utils/types'\nimport IconButton from '../Common/Button/IconButton'\nimport Calendar from '../Common/Calendar/Calendar'\nimport Dropdown from '../Common/Dropdown/Dropdown'\n\ninterface RepeatTypeItem {\n  leftLabel: string\n  rightLabel: string\n  onClickHandler: () => void\n}\n\nexport interface CreateEventPayload {\n  id?: string // pour plus tard si édition\n  title: string\n  description: string\n  location: string\n  startDate: string\n  endDate: string\n  isAllDay: boolean\n  themeColor: ThemeColorType\n  repeatType: -1 | EventRepeatType\n}\n\ninterface CreateEventModalProps {\n  isOpen: boolean\n  onClose: () => void\n  onSave: (event: CreateEventPayload) => void\n  initialStartDate?: string\n  initialEndDate?: string\n  defaultThemeColor?: ThemeColorType\n  isEdit?: boolean\n}\n\nexport default function CreateEventModal({\n  isOpen,\n  onClose,\n  onSave,\n  initialStartDate,\n  initialEndDate,\n  defaultThemeColor = ThemeColorTypes.RED,\n  isEdit = false,\n}: CreateEventModalProps) {\n  const createEventModalRef = useRef<HTMLDivElement | null>(null)\n  const startDateInputRef = useRef<HTMLInputElement | null>(null)\n  const endDateInputRef = useRef<HTMLInputElement | null>(null)\n\n  const [isMouseDown, setIsMouseDown] = useState(false)\n\n  const [title, setTitle] = useState('')\n  const [location, setLocation] = useState('')\n  const [description, setDescription] = useState('')\n\n  const [startDate, setStartDate] = useState<string>(\n    initialStartDate ?? new Date().toString(),\n  )\n  const [startDateInputValue, setStartDateInputValue] = useState('')\n  const [showStartDateInput, setShowStartDateInput] = useState(false)\n\n  const [endDate, setEndDate] = useState<string>(\n    initialEndDate ?? new Date().toString(),\n  )\n  const [endDateInputValue, setEndDateInputValue] = useState('')\n  const [showEndDateInput, setShowEndDateInput] = useState(false)\n\n  const [isAllDay, setIsAllDay] = useState(false)\n  const [repeatType, setRepeatType] = useState<-1 | EventRepeatType>(-1)\n  const [themeColor, setThemeColor] =\n    useState<ThemeColorType>(defaultThemeColor)\n\n  const [isRepeatTypeDropdownOpen, setIsRepeatTypeDropdownOpen] =\n    useState(false)\n  const [isStartDateCalendarOpen, setIsStartDateCalendarOpen] =\n    useState(false)\n  const [isEndDateCalendarOpen, setIsEndDateCalendarOpen] = useState(false)\n\n  const repeatTypeDropdownData: RepeatTypeItem[] = [\n    {\n      leftLabel: 'Ne se répète pas',\n      rightLabel: '',\n      onClickHandler: () => {\n        setRepeatType(-1)\n        setIsRepeatTypeDropdownOpen(false)\n      },\n    },\n    {\n      leftLabel: 'Quotidien',\n      rightLabel: '',\n      onClickHandler: () => {\n        setRepeatType(EventRepeatTypes.DAILY)\n        setIsRepeatTypeDropdownOpen(false)\n      },\n    },\n    {\n      leftLabel: 'Hebdomadaire',\n      rightLabel: '',\n      onClickHandler: () => {\n        setRepeatType(EventRepeatTypes.WEEKLY)\n        setIsRepeatTypeDropdownOpen(false)\n      },\n    },\n    {\n      leftLabel: 'Toutes les deux semaines',\n      rightLabel: '',\n      onClickHandler: () => {\n        setRepeatType(EventRepeatTypes.BI_WEEKLY)\n        setIsRepeatTypeDropdownOpen(false)\n      },\n    },\n    {\n      leftLabel: 'Mensuel',\n      rightLabel: '',\n      onClickHandler: () => {\n        setRepeatType(EventRepeatTypes.MONTHLY)\n        setIsRepeatTypeDropdownOpen(false)\n      },\n    },\n    {\n      leftLabel: 'Jours de semaine',\n      rightLabel: '',\n      onClickHandler: () => {\n        setRepeatType(EventRepeatTypes.WEEK_DAYS)\n        setIsRepeatTypeDropdownOpen(false)\n      },\n    },\n  ]\n\n  const onToggleAllDay = (newVal: boolean) => {\n    if (newVal) {\n      const updatedStartDate = startOfDay(new Date(startDate))\n      const updatedEndDate = endOfDay(new Date(endDate))\n      setStartDate(updatedStartDate.toString())\n      setEndDate(updatedEndDate.toString())\n    } else {\n      const now = new Date()\n      const curHour = getHours(now)\n      const curMin = getMinutes(now)\n      setStartDate(\n        setDate(new Date(startDate), {\n          hours: curHour,\n          minutes: curMin,\n        }).toString(),\n      )\n      setEndDate(\n        setDate(new Date(endDate), {\n          hours: curHour,\n          minutes: curMin,\n        }).toString(),\n      )\n    }\n\n    setIsAllDay(newVal)\n  }\n\n  const onChangeDate = (target: 'start' | 'end', newDateVal: Date) => {\n    const base = new Date(newDateVal)\n\n    const year = getYear(base)\n    const month = getMonth(base)\n    const date = getDate(base)\n\n    if (target === 'start') {\n      const updated = setDate(new Date(startDate), { year, month, date })\n\n      setStartDate(updated.toString())\n\n      if (isBefore(new Date(endDate), updated)) {\n        setEndDate(updated.toString())\n      }\n\n      setIsStartDateCalendarOpen(false)\n    } else {\n      const updated = setDate(new Date(endDate), { year, month, date })\n\n      setEndDate(updated.toString())\n\n      if (isBefore(updated, new Date(startDate))) {\n        setStartDate(updated.toString())\n      }\n\n      setIsEndDateCalendarOpen(false)\n    }\n  }\n\n  const onBlurInput = (target: 'start' | 'end', value: string) => {\n    const [valid, hours, minutes] = isValidTime(value)\n\n    if (target === 'start') {\n      if (valid) {\n        const newStartDate = setDate(new Date(startDate), {\n          hours,\n          minutes,\n        })\n\n        if (isAfter(newStartDate, new Date(endDate))) {\n          const newEndDate = setDate(new Date(endDate), {\n            hours,\n            minutes,\n          })\n          setEndDate(newEndDate.toString())\n        }\n\n        setStartDate(newStartDate.toString())\n      }\n\n      setShowStartDateInput(false)\n    } else {\n      if (valid) {\n        const newEndDate = setDate(new Date(endDate), { hours, minutes })\n        if (isBefore(newEndDate, new Date(startDate))) {\n          const newStartDate = setDate(new Date(startDate), {\n            hours,\n            minutes,\n          })\n          setStartDate(newStartDate.toString())\n        }\n        setEndDate(newEndDate.toString())\n      }\n      setShowEndDateInput(false)\n    }\n  }\n\n  const handleSaveClick = () => {\n    const payload: CreateEventPayload = {\n      id: uuid(), // pour l’instant local; pour Google tu utiliseras l’id retourné\n      title: title.length > 0 ? title : '(Sans titre)',\n      description,\n      location,\n      startDate,\n      endDate,\n      isAllDay,\n      themeColor,\n      repeatType,\n    }\n\n    onSave(payload)\n    onClose()\n  }\n\n  useEffect(() => {\n    setStartDateInputValue(format(new Date(startDate), 'HH:mm', { locale: fr }))\n  }, [startDate])\n\n  useEffect(() => {\n    setEndDateInputValue(format(new Date(endDate), 'HH:mm', { locale: fr }))\n  }, [endDate])\n\n  useEffect(() => {\n    if (showStartDateInput && startDateInputRef.current) {\n      startDateInputRef.current.focus()\n    }\n    if (showEndDateInput && endDateInputRef.current) {\n      endDateInputRef.current.focus()\n    }\n  }, [showStartDateInput, showEndDateInput])\n\n  useEffect(() => {\n    if (!isOpen) return\n\n    const onMouseMove = (e: MouseEvent) => {\n      if (isMouseDown && createEventModalRef.current) {\n        e.preventDefault()\n        const deltaX = e.movementX\n        const deltaY = e.movementY\n        const rect = createEventModalRef.current.getBoundingClientRect()\n        createEventModalRef.current.style.left = rect.x + deltaX + 'px'\n        createEventModalRef.current.style.top = rect.y + deltaY + 'px'\n      }\n    }\n    document.addEventListener('mousemove', onMouseMove)\n    return () => {\n      document.removeEventListener('mousemove', onMouseMove)\n    }\n  }, [isMouseDown, isOpen])\n\n  if (!isOpen) return null\n\n  return (\n    <div\n      ref={createEventModalRef}\n      className=\"fixed z-40 flex flex-col bg-white rounded-md h-580px min-w-448 bottom-10 left-10 createEventModalBoxShadow\"\n    >\n      <div\n        className={`\n          flex items-center justify-between px-3 py-1 rounded-t-md bg-opacity-20 transition cursor-move\n          ${colorLookup[themeColor]}\n        `}\n        onMouseDown={() => setIsMouseDown(true)}\n        onMouseUp={() => setIsMouseDown(false)}\n      >\n        <IconButton\n          label=\"Fermer\"\n          size=\"small\"\n          tooltipLocation=\"bottom\"\n          imgComponent={\n            <MdClose size=\"24px\" color=\"rgba(75, 85, 99)\" />\n          }\n          onClickHandler={onClose}\n        />\n      </div>\n\n      <div className=\"pt-2\">\n        {/* Titre */}\n        <div className=\"flex py-4 pl-16 pr-5\">\n          <input\n            type=\"text\"\n            value={title}\n            placeholder=\"Ajouter un titre\"\n            onChange={e => setTitle(e.target.value)}\n            className=\"w-full text-2xl antialiased font-normal border-b outline-none\"\n          />\n        </div>\n\n        {/* Bloc date / heure */}\n        <div className=\"flex px-5 py-4\">\n          <div className=\"flex items-start justify-center\">\n            <MdAccessTime size=\"20px\" color=\"rgba(75, 85, 99)\" />\n          </div>\n          <div className=\"flex flex-col flex-auto pl-6 text-sm text-gray-500\">\n            <div className=\"flex items-center justify-start\">\n              {/* Start date */}\n              <div className=\"relative\">\n                <div\n                  className=\"px-1 transition rounded-sm cursor-pointer hover:bg-gray-100\"\n                  onClick={() => setIsStartDateCalendarOpen(true)}\n                >\n                  {format(new Date(startDate), 'EEEE d MMMM', { locale: fr })}\n                </div>\n                {isStartDateCalendarOpen && (\n                  <div className=\"absolute z-50 w-64 bg-white h-min top-full dropdownBoxShadow\">\n                    <Calendar\n                      targetDate={startDate}\n                      onClickDate={newDate =>\n                        onChangeDate('start', newDate)\n                      }\n                      isModal\n                      onClose={() => setIsStartDateCalendarOpen(false)}\n                    />\n                  </div>\n                )}\n              </div>\n\n              {/* Start time */}\n              {!isAllDay && (\n                <div>\n                  {showStartDateInput ? (\n                    <input\n                      ref={startDateInputRef}\n                      type=\"text\"\n                      value={startDateInputValue}\n                      className=\"w-20 text-center border rounded-md outline-none\"\n                      onChange={e =>\n                        setStartDateInputValue(e.target.value)\n                      }\n                      onBlur={e =>\n                        onBlurInput('start', e.target.value)\n                      }\n                    />\n                  ) : (\n                    <div\n                      className=\"px-1 transition rounded-sm cursor-pointer hover:bg-gray-100\"\n                      onClick={() => setShowStartDateInput(true)}\n                    >\n                      {format(new Date(startDate), 'HH:mm', { locale: fr })}\n                    </div>\n                  )}\n                </div>\n              )}\n\n              <span className=\"px-1\">-</span>\n\n              {/* End time */}\n              {!isAllDay && (\n                <div>\n                  {showEndDateInput ? (\n                    <input\n                      ref={endDateInputRef}\n                      type=\"text\"\n                      value={endDateInputValue}\n                      className=\"w-20 text-center border rounded-md outline-none\"\n                      onChange={e =>\n                        setEndDateInputValue(e.target.value)\n                      }\n                      onBlur={e => onBlurInput('end', e.target.value)}\n                    />\n                  ) : (\n                    <div\n                      className=\"px-1 transition rounded-sm cursor-pointer hover:bg-gray-100\"\n                      onClick={() => setShowEndDateInput(true)}\n                    >\n                      {format(new Date(endDate), 'HH:mm', { locale: fr })}\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* End date */}\n              <div className=\"relative\">\n                <div\n                  className=\"px-1 transition rounded-sm cursor-pointer hover:bg-gray-100\"\n                  onClick={() => setIsEndDateCalendarOpen(true)}\n                >\n                  {format(new Date(endDate), 'EEEE d MMMM', { locale: fr })}\n                </div>\n                {isEndDateCalendarOpen && (\n                  <div className=\"absolute z-50 w-64 bg-white h-min top-full dropdownBoxShadow\">\n                    <Calendar\n                      targetDate={endDate}\n                      onClickDate={newDate =>\n                        onChangeDate('end', newDate)\n                      }\n                      isModal\n                      onClose={() => setIsEndDateCalendarOpen(false)}\n                    />\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* All day */}\n            <div className=\"flex items-center mt-2 -ml-1\">\n              <div className=\"mr-1.5\">\n                <IconButton\n                  label=\"Toute la journée\"\n                  size=\"small\"\n                  tooltipLocation=\"bottom\"\n                  imgComponent={\n                    isAllDay ? (\n                      <MdCheckBox size=\"24px\" color=\"gray\" />\n                    ) : (\n                      <MdCheckBoxOutlineBlank\n                        size=\"24px\"\n                        color=\"gray\"\n                      />\n                    )\n                  }\n                  onClickHandler={() => onToggleAllDay(!isAllDay)}\n                />\n              </div>\n              <div>Toute la journée</div>\n            </div>\n\n            {/* Repeat selector */}\n            <div className=\"relative mt-2\">\n              <button\n                className=\"flex px-2 py-1 -ml-1 transition rounded-md hover:bg-gray-100\"\n                onClick={() => setIsRepeatTypeDropdownOpen(true)}\n              >\n                <span className=\"mr-0.5\">\n                  {repeatTypeStringLookup[\n                    repeatType as -1 | EventRepeatType\n                  ]}\n                </span>\n                <MdArrowDropDown\n                  size=\"18px\"\n                  color=\"rgba(75, 85, 99)\"\n                />\n              </button>\n              {isRepeatTypeDropdownOpen && (\n                <Dropdown\n                  data={repeatTypeDropdownData}\n                  onCloseDropdown={() =>\n                    setIsRepeatTypeDropdownOpen(false)\n                  }\n                />\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Location */}\n        <div className=\"flex items-center px-5 py-4 border-t\">\n          <div>\n            <MdLocationOn size=\"20px\" color=\"rgba(75, 85, 99)\" />\n          </div>\n          <div className=\"flex-auto pl-6\">\n            <input\n              type=\"text\"\n              value={location}\n              placeholder=\"Lieu\"\n              onChange={e => setLocation(e.target.value)}\n              className=\"w-full px-2 py-1 text-sm bg-gray-100 border-b outline-none\"\n            />\n          </div>\n        </div>\n\n        {/* Description */}\n        <div className=\"flex px-5 py-4 border-t\">\n          <div>\n            <MdSubject size=\"20px\" color=\"rgba(75, 85, 99)\" />\n          </div>\n          <div className=\"flex-auto pl-6\">\n            <textarea\n              value={description}\n              placeholder=\"Description\"\n              onChange={e => setDescription(e.target.value)}\n              className=\"w-full px-2 py-1 text-sm bg-gray-100 border-b outline-none resize-none\"\n            />\n          </div>\n        </div>\n\n        {/* Couleur */}\n        <div className=\"flex px-5 py-4 border-t border-b\">\n          <div>\n            <MdColorLens size=\"20px\" color=\"rgba(75, 85, 99)\" />\n          </div>\n          <div className=\"flex flex-auto pl-6 space-x-4 text-xs -mt-1.5\">\n            {Object.keys(ThemeColorTypes).map(key => {\n              if (!isNaN(Number(key))) {\n                return null\n              }\n              const colorIndex = (ThemeColorTypes as any)[\n                key\n              ] as ThemeColorType\n              return (\n                <div\n                  key={key}\n                  className={`\n                    flex flex-col items-center px-1 py-1.5 transition rounded-md cursor-pointer\n                    hover:${colorLookup[colorIndex]}\n                    hover:bg-opacity-20\n                    ${\n                      themeColor === colorIndex\n                        ? `${colorLookup[colorIndex]} bg-opacity-20`\n                        : ''\n                    }\n                  `}\n                  onClick={() => setThemeColor(colorIndex)}\n                >\n                  <span className=\"mb-2 tracking-wide text-gray-500 text-xxs\">\n                    {key}\n                  </span>\n                  <div\n                    className={`\n                      w-4 h-4 rounded-full\n                      ${colorLookup[colorIndex]}\n                    `}\n                  />\n                </div>\n              )\n            })}\n          </div>\n        </div>\n      </div>\n\n      {/* Boutons action */}\n      <div className=\"flex items-center justify-end px-4 py-3\">\n        <button\n          className={`\n            px-6 py-2 text-sm text-white bg-opacity-80 transition\n            ${colorLookup[themeColor]} rounded-md\n          `}\n          onClick={handleSaveClick}\n        >\n          Enregistrer\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1997, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/components/Timeline/TimelineBlock.tsx"],"sourcesContent":["'use client'\n\nimport { differenceInMinutes, format, set } from 'date-fns'\nimport { useRef } from 'react'\nimport { colorLookup, getClosestIndexForDayViewEvents,} from '../../utils/helpers'\nimport { ThemeColorType } from '../../utils/types'\n\nexport interface TimelineBlockEvent {\n  eventUid: string\n  title: string\n  startDate: string\n  endDate: string\n  themeColor: ThemeColorType\n  [key: string]: any\n}\n\ninterface TimelineBlockProps {\n  index: number\n  startColIndex?: number\n  baseZIndex?: number\n  event: TimelineBlockEvent\n  isMultiday?: boolean\n  onClickTimelineBlock: (payload: {\n    eventUid: string\n    top: number\n    left: number\n    height: number\n    width: number\n  }) => void\n}\n\nexport default function TimelineBlock({\n  index,\n  startColIndex = 0,\n  baseZIndex = 1,\n  event,\n  isMultiday = false,\n  onClickTimelineBlock,\n}: TimelineBlockProps) {\n  const timelineBlockRef = useRef<HTMLDivElement | null>(null)\n  const getBlockHeight = (evt: TimelineBlockEvent): number => {\n    if (!isMultiday) {\n      const basePixel = 11\n      const [startHour, startMinuteSeg] = getClosestIndexForDayViewEvents(\n        new Date(evt.startDate),\n      )\n      const [endHour, endMinuteSeg] = getClosestIndexForDayViewEvents(\n        new Date(evt.endDate),\n      )\n\n      if (startHour === endHour && startMinuteSeg === endMinuteSeg) {\n        return 22\n      }\n      const start = set(new Date(evt.startDate), {\n        hours: startHour,\n        minutes: startMinuteSeg,\n      })\n      const end = set(new Date(evt.endDate), {\n        hours: endHour,\n        minutes: endMinuteSeg,\n      })\n      const diffSlots = Math.floor(differenceInMinutes(end, start) / 15)\n      return diffSlots * basePixel + (diffSlots - 1)\n    } else {\n      return 22\n    }\n  }\n\n  const blockSubtitle = (blockHeight: number, multi: boolean) => {\n    if (!multi) {\n      if (blockHeight > 22) {\n        const startTime = format(new Date(event.startDate), 'K:mm aaa')\n        const endTime = format(new Date(event.endDate), 'K:mm aaa')\n        return (\n          <div className=\"pt-0.5\">\n            {`${startTime} - ${endTime}`}\n          </div>\n        )\n      } else {\n        return `, ${format(new Date(event.startDate), 'K aaa')}`\n      }\n    }\n    return null\n  }\n\n  const handleOnClickBlock = () => {\n    if (!timelineBlockRef.current) return\n    const { top, left, height, width } =\n      timelineBlockRef.current.getBoundingClientRect()\n\n    onClickTimelineBlock({\n      eventUid: event.eventUid,\n      top: top - 65,\n      left: left - 248,\n      height,\n      width,\n    })\n  }\n\n  const heightPx = getBlockHeight(event)\n\n  return (\n    <div\n      ref={timelineBlockRef}\n      style={{ height: `${heightPx}px` }}\n      className={` relative-top-px rounded-md text-xs overflow-x-hidden flex-1 px-2.5 pt-0.5 cursor-pointer\n        ${colorLookup[event.themeColor]}\n        ${`z-${1 + baseZIndex + index}`}\n        ${startColIndex > 0 ? 'border border-white' : ''}\n        ${!isMultiday && index > 0 ? 'border-l border-white -ml-2' : ''}\n      `}\n      onClick={handleOnClickBlock}\n    >\n      <div className=\"absolute min-w-0 font-normal truncate\">\n        {event.title}\n        {blockSubtitle(heightPx, isMultiday)}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AACA;AACA;AAJA;;;;;AA+Be,SAAS,cAAc,EACpC,KAAK,EACL,gBAAgB,CAAC,EACjB,aAAa,CAAC,EACd,KAAK,EACL,aAAa,KAAK,EAClB,oBAAoB,EACD;IACnB,MAAM,mBAAmB,IAAA,+MAAM,EAAwB;IACvD,MAAM,iBAAiB,CAAC;QACtB,IAAI,CAAC,YAAY;YACf,MAAM,YAAY;YAClB,MAAM,CAAC,WAAW,eAAe,GAAG,IAAA,0JAA+B,EACjE,IAAI,KAAK,IAAI,SAAS;YAExB,MAAM,CAAC,SAAS,aAAa,GAAG,IAAA,0JAA+B,EAC7D,IAAI,KAAK,IAAI,OAAO;YAGtB,IAAI,cAAc,WAAW,mBAAmB,cAAc;gBAC5D,OAAO;YACT;YACA,MAAM,QAAQ,IAAA,yIAAG,EAAC,IAAI,KAAK,IAAI,SAAS,GAAG;gBACzC,OAAO;gBACP,SAAS;YACX;YACA,MAAM,MAAM,IAAA,yIAAG,EAAC,IAAI,KAAK,IAAI,OAAO,GAAG;gBACrC,OAAO;gBACP,SAAS;YACX;YACA,MAAM,YAAY,KAAK,KAAK,CAAC,IAAA,yKAAmB,EAAC,KAAK,SAAS;YAC/D,OAAO,YAAY,YAAY,CAAC,YAAY,CAAC;QAC/C,OAAO;YACL,OAAO;QACT;IACF;IAEA,MAAM,gBAAgB,CAAC,aAAqB;QAC1C,IAAI,CAAC,OAAO;YACV,IAAI,cAAc,IAAI;gBACpB,MAAM,YAAY,IAAA,+JAAM,EAAC,IAAI,KAAK,MAAM,SAAS,GAAG;gBACpD,MAAM,UAAU,IAAA,+JAAM,EAAC,IAAI,KAAK,MAAM,OAAO,GAAG;gBAChD,qBACE,8OAAC;oBAAI,WAAU;8BACZ,GAAG,UAAU,GAAG,EAAE,SAAS;;;;;;YAGlC,OAAO;gBACL,OAAO,CAAC,EAAE,EAAE,IAAA,+JAAM,EAAC,IAAI,KAAK,MAAM,SAAS,GAAG,UAAU;YAC1D;QACF;QACA,OAAO;IACT;IAEA,MAAM,qBAAqB;QACzB,IAAI,CAAC,iBAAiB,OAAO,EAAE;QAC/B,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,GAChC,iBAAiB,OAAO,CAAC,qBAAqB;QAEhD,qBAAqB;YACnB,UAAU,MAAM,QAAQ;YACxB,KAAK,MAAM;YACX,MAAM,OAAO;YACb;YACA;QACF;IACF;IAEA,MAAM,WAAW,eAAe;IAEhC,qBACE,8OAAC;QACC,KAAK;QACL,OAAO;YAAE,QAAQ,GAAG,SAAS,EAAE,CAAC;QAAC;QACjC,WAAW,CAAC;QACV,EAAE,sIAAW,CAAC,MAAM,UAAU,CAAC,CAAC;QAChC,EAAE,CAAC,EAAE,EAAE,IAAI,aAAa,OAAO,CAAC;QAChC,EAAE,gBAAgB,IAAI,wBAAwB,GAAG;QACjD,EAAE,CAAC,cAAc,QAAQ,IAAI,gCAAgC,GAAG;MAClE,CAAC;QACD,SAAS;kBAET,cAAA,8OAAC;YAAI,WAAU;;gBACZ,MAAM,KAAK;gBACX,cAAc,UAAU;;;;;;;;;;;;AAIjC","debugId":null}},
    {"offset": {"line": 2100, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/components/Timeline/Timeline.tsx"],"sourcesContent":["'use client'\n\nimport { CalendarViewTypes, CalendarViewType } from '../../utils/types'\nimport TimelineBlock from './TimelineBlock'\n\ninterface TimelineDataHourSegment {\n  events: any[]\n  startColIndex: number\n  colCount: number\n  baseZIndex: number\n}\n\ntype TimelineDay = Record<string, TimelineDataHourSegment>\n\ninterface WeekViewData {\n  days: Record<string, Record<string, TimelineDay>>\n}\n\ninterface TimelineProps {\n  calendarViewType: CalendarViewType\n  data?: WeekViewData | any\n  onClickTimelineBlock: (payload: any) => void\n}\n\nexport default function Timeline({\n  calendarViewType,\n  data = {},\n  onClickTimelineBlock,\n}: TimelineProps) {\n  const weekViewTimeline = (weekData: WeekViewData) => {\n    const START_HOUR = 6\n    const END_HOUR = 19 // inclus\n\n    const week = Object.keys(weekData.days).map((dayKey, i) => {\n      const dayHours = weekData.days[dayKey]\n\n      const hoursKeys = Object.keys(dayHours)\n        .map(Number)\n        .filter(h => h >= START_HOUR && h <= END_HOUR)\n        .sort((a, b) => a - b)\n\n      const dayContent = hoursKeys.map((h, hourIdx) => {\n        const minuteSegments = Object.keys(dayHours[h]).map(seg => {\n          const { events, startColIndex, baseZIndex } = dayHours[h][seg]\n          return (\n            <div\n              key={`${dayKey}-${h}-${seg}`}\n              style={{\n                height: '11px',\n                paddingLeft: `calc(2rem * ${startColIndex})`,\n              }}\n              className=\"relative flex w-full pr-2 timelineSegmentSpacing\"\n            >\n              {events.map((e, idx) => (\n                <TimelineBlock\n                  key={idx}\n                  index={idx}\n                  baseZIndex={baseZIndex}\n                  startColIndex={startColIndex}\n                  event={e}\n                  onClickTimelineBlock={onClickTimelineBlock}\n                />\n              ))}\n            </div>\n          )\n        })\n\n        return (\n          <div\n            key={`${dayKey}-${hourIdx}`}\n            className=\"relative w-full h-12 border-b height-min\"\n          >\n            {minuteSegments}\n          </div>\n        )\n      })\n\n      return (\n        <div\n          key={`day-${i}`}\n          className=\"flex-1 w-1/7\"\n        >\n          {dayContent}\n        </div>\n      )\n    })\n    return [...week.slice(1), week[0]]\n  }\n  const isWeekView = calendarViewType === CalendarViewTypes.WEEK_VIEW\n  return (\n    <div className={` flex-auto w-full h-full border-l ${isWeekView ? 'flex divide-x' : ''}`}>\n      {isWeekView && weekViewTimeline(data as WeekViewData)}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAwBe,SAAS,SAAS,EAC/B,gBAAgB,EAChB,OAAO,CAAC,CAAC,EACT,oBAAoB,EACN;IACd,MAAM,mBAAmB,CAAC;QACxB,MAAM,aAAa;QACnB,MAAM,WAAW,GAAG,SAAS;;QAE7B,MAAM,OAAO,OAAO,IAAI,CAAC,SAAS,IAAI,EAAE,GAAG,CAAC,CAAC,QAAQ;YACnD,MAAM,WAAW,SAAS,IAAI,CAAC,OAAO;YAEtC,MAAM,YAAY,OAAO,IAAI,CAAC,UAC3B,GAAG,CAAC,QACJ,MAAM,CAAC,CAAA,IAAK,KAAK,cAAc,KAAK,UACpC,IAAI,CAAC,CAAC,GAAG,IAAM,IAAI;YAEtB,MAAM,aAAa,UAAU,GAAG,CAAC,CAAC,GAAG;gBACnC,MAAM,iBAAiB,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,GAAG,CAAC,CAAA;oBAClD,MAAM,EAAE,MAAM,EAAE,aAAa,EAAE,UAAU,EAAE,GAAG,QAAQ,CAAC,EAAE,CAAC,IAAI;oBAC9D,qBACE,8OAAC;wBAEC,OAAO;4BACL,QAAQ;4BACR,aAAa,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;wBAC9C;wBACA,WAAU;kCAET,OAAO,GAAG,CAAC,CAAC,GAAG,oBACd,8OAAC,0JAAa;gCAEZ,OAAO;gCACP,YAAY;gCACZ,eAAe;gCACf,OAAO;gCACP,sBAAsB;+BALjB;;;;;uBATJ,GAAG,OAAO,CAAC,EAAE,EAAE,CAAC,EAAE,KAAK;;;;;gBAmBlC;gBAEA,qBACE,8OAAC;oBAEC,WAAU;8BAET;mBAHI,GAAG,OAAO,CAAC,EAAE,SAAS;;;;;YAMjC;YAEA,qBACE,8OAAC;gBAEC,WAAU;0BAET;eAHI,CAAC,IAAI,EAAE,GAAG;;;;;QAMrB;QACA,OAAO;eAAI,KAAK,KAAK,CAAC;YAAI,IAAI,CAAC,EAAE;SAAC;IACpC;IACA,MAAM,aAAa,qBAAqB,0IAAiB,CAAC,SAAS;IACnE,qBACE,8OAAC;QAAI,WAAW,CAAC,kCAAkC,EAAE,aAAa,kBAAkB,IAAI;kBACrF,cAAc,iBAAiB;;;;;;AAGtC","debugId":null}},
    {"offset": {"line": 2182, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/components/Timeline/TimelineHeader.tsx"],"sourcesContent":["'use client'\n\nimport { format } from 'date-fns'\nimport { fr } from 'date-fns/locale'\nimport React, {\n  Dispatch,\n  ForwardedRef,\n  SetStateAction,\n  forwardRef,\n} from 'react'\nimport { getUpdatedEventBlocksWithPlacement } from '../../utils/helpers'\nimport { CalendarViewTypes, CalendarViewType } from '../../utils/types'\nimport TimelineBlock from './TimelineBlock'\n\ninterface WholeDayEventBlock {\n  isEmpty?: boolean\n  duration?: number\n  [key: string]: any\n}\n\ninterface WholeDayEventsDay {\n  events: WholeDayEventBlock[]\n  incomingRowsMatrix: any\n}\n\ntype WholeDayEvents =\n  | { 0: WholeDayEventBlock[] }\n  | { [key: string]: WholeDayEventsDay }\n\ntype WholeDayEventsInput = WholeDayEvents | any[] | Record<string, any>\n\ninterface TimelineHeaderProps {\n  dates?: (string | Date)[]\n  wholeDayEvents?: WholeDayEventsInput\n  calendarViewType: CalendarViewType\n  onClickTimelineBlock: (event: any) => void\n  onChangeTargetDate: Dispatch<SetStateAction<string>>\n  onClickNewEvent: (basis?: { startDate: string; endDate: string }) => void\n}\n\nfunction TimelineHeader(\n  {\n    dates = [],\n    wholeDayEvents = {} as WholeDayEvents,\n    calendarViewType,\n    onClickTimelineBlock,\n    onChangeTargetDate,\n    onClickNewEvent,\n  }: TimelineHeaderProps,\n  ref: ForwardedRef<HTMLDivElement>,\n) {\n  const navigateToDay = (date: string | Date) => {\n    if (dates.length > 1) {\n      onChangeTargetDate(new Date(date).toString())\n    }\n  }\n\n  const hasMultidayEvents = (\n    wholeDayEventsParam: WholeDayEventsInput,\n  ): boolean => {\n    if (Array.isArray(wholeDayEventsParam)) {\n      return wholeDayEventsParam.length > 0\n    }\n\n    const whole = wholeDayEventsParam as { [key: string]: WholeDayEventsDay }\n    const total = Object.keys(whole).reduce((acc, cur) => {\n      acc += whole[cur].events.length\n      return acc\n    }, 0)\n\n    return total > 0\n  }\n\n  const weekViewMultidayEvents = (\n    wholeDayEventsWeek: { [key: string]: WholeDayEventsDay },\n  ) => {\n    const eventsByDay: any[][] = []\n\n    if (Object.keys(wholeDayEventsWeek).length > 0) {\n      Object.keys(wholeDayEventsWeek).forEach(key => {\n        const { events: eventsArr, incomingRowsMatrix } =\n          wholeDayEventsWeek[key]\n        const updated = getUpdatedEventBlocksWithPlacement(\n          eventsArr,\n          incomingRowsMatrix,\n        )\n        eventsByDay.push(updated)\n      })\n    }\n\n    return eventsByDay.map((events, i) => (\n      <div key={`jour-${i}`} className=\"flex-1\">\n        {events.map((event: any, j: number) => {\n          if (event.isEmpty) {\n            return (\n              <div\n                key={`empty-${i}-${j}`}\n                style={{ height: 22 }}\n                className={`relative ${j > 0 ? 'mt-0.5' : ''}`}\n              />\n            )\n          }\n\n          return (\n            <div\n              key={`event-${i}-${j}`}\n              style={{\n                height: 22,\n                width: `calc(100% + (100% * ${event.duration}) - 0.5rem)`,\n              }}\n              className={`${j > 0 ? 'mt-0.5' : ''}`}\n            >\n              <div className=\"min-w-full\">\n                <TimelineBlock\n                  index={j}\n                  baseZIndex={1}\n                  event={event}\n                  isMultiday\n                  onClickTimelineBlock={onClickTimelineBlock}\n                />\n              </div>\n            </div>\n          )\n        })}\n      </div>\n    ))\n  }\n\n  return (\n    <div ref={ref} className=\"flex flex-col\">\n      {/* Ligne des jours */}\n      <div className=\"flex justify-between w-full pl-14\">\n        {dates.map((date, i) => (\n          <div\n            key={i}\n            className={`\n              flex flex-col items-center justify-start\n              ${dates.length > 1 ? 'flex-1' : ''}\n              ${dates.length === 1 ? 'pl-3' : ''}\n            `}\n          >\n            <span className=\"flex items-center justify-center h-8 mt-2 font-medium tracking-widest text-gray-600 text-xxs\">\n              {format(new Date(date), 'EEE', { locale: fr }).toUpperCase()}\n            </span>\n            <span\n              className={`\n                flex items-center justify-center text-2xl transition tracking-wider text-gray-700 -mt-1 w-10 h-10\n                ${\n                  dates.length > 1\n                    ? 'hover:bg-gray-100 rounded-full cursor-pointer'\n                    : ''\n                }\n              `}\n              onClick={() => navigateToDay(date)}\n            >\n              {format(new Date(date), 'd', { locale: fr })}\n            </span>\n          </div>\n        ))}\n      </div>\n\n      {/* Ligne des multi-jours */}\n      <div className=\"flex\">\n        <div className=\"flex items-end justify-start text-gray-500 text-xxs\">\n          <div className=\"flex items-end justify-between min-h-0 min-w-56\">\n            <div className=\"w-2 border-b\" />\n          </div>\n        </div>\n        <div\n          className={`\n            w-full pb-1 border-b border-l\n            ${hasMultidayEvents(wholeDayEvents) && 'mt-3'}\n          `}\n        >\n          {calendarViewType === CalendarViewTypes.WEEK_VIEW && (\n            <div className=\"flex justify-between\">\n              {weekViewMultidayEvents(\n                wholeDayEvents as { [key: string]: WholeDayEventsDay },\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default forwardRef<HTMLDivElement, TimelineHeaderProps>(TimelineHeader)\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2386, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/components/Timeline/TimelineWrapper.tsx"],"sourcesContent":["'use client'\n\nimport { eachDayOfInterval, format, setHours, setMinutes } from 'date-fns'\nimport { fr } from 'date-fns/locale'\nimport { Dispatch, SetStateAction, useEffect, useRef, useState } from 'react'\nimport { getBaseWeekViewEvents, getDateRange, findEventCoverage, reduceCoverages, calculateOverlap, getClosestIndexForDayViewEvents } from '../../utils/helpers'\nimport { CalendarViewTypes, CalendarViewType } from '../../utils/types'\nimport Timeline from './Timeline'\nimport TimelineHeader from './TimelineHeader'\nimport { UiEvent, SelectedEventState } from '../GoogleAgenda/GoogleAgenda'\n\ninterface TimelineWrapperProps {\n  calendarViewType: CalendarViewType\n  targetDate: string\n  events: UiEvent[]\n  onChangeTargetDate: Dispatch<SetStateAction<string>>\n  onSelectEvent: Dispatch<SetStateAction<SelectedEventState>>\n  onClickNewEvent: (basis?: { startDate: string; endDate: string }) => void\n}\n\nexport default function TimelineWrapper({\n  calendarViewType,\n  targetDate,\n  events,\n  onChangeTargetDate,\n  onSelectEvent,\n  onClickNewEvent,\n}: TimelineWrapperProps) {\n  const timelineHeaderRef = useRef<HTMLDivElement | null>(null)\n  const timelineRef = useRef<HTMLDivElement | null>(null)\n  const [targetDateRange, setTargetDateRange] = useState<Date[]>([])\n  const [timelineMaxHeight, setTimelineMaxHeight] = useState('calc(100vh - (65px + 43px))',)\n  const [weekViewEvents, setWeekViewEvents] = useState<any>({})\n\n  const onClickTimelineBlock = (payload: any) => {\n    onSelectEvent(payload)\n  }\n  useEffect(() => {\n    const getDayList = (\n      target: string,\n      viewType: CalendarViewType,\n    ): Date[] => {\n      switch (viewType) {\n        case CalendarViewTypes.WEEK_VIEW: {\n          const [start, end] = getDateRange(viewType, target)\n          return eachDayOfInterval({ start, end })\n        }\n        default:\n          return []\n      }\n    }\n\n    if (targetDate) {\n      setTargetDateRange(getDayList(targetDate, calendarViewType))\n    }\n  }, [targetDate, calendarViewType])\n  useEffect(() => {\n    if (calendarViewType !== CalendarViewTypes.WEEK_VIEW) return\n    if (!targetDate) return\n\n    const [rangeStart, rangeEnd] = getDateRange(\n      CalendarViewTypes.WEEK_VIEW,\n      targetDate,\n    )\n    const base = getBaseWeekViewEvents()\n    const coverageArrs: Record<number, any[]> = {\n      0: [],\n      1: [],\n      2: [],\n      3: [],\n      4: [],\n      5: [],\n      6: [],\n    }\n\n    // très simplifié : on ne gère ici que les events “simples” dans la semaine\n    events.forEach(e => {\n      const start = new Date(e.startDate)\n      const end = new Date(e.endDate)\n      if (start < rangeStart || start > rangeEnd) return\n\n      const dayIndex = start.getDay()\n      const [hour, minuteKey] = getClosestIndexForDayViewEvents(start)\n\n      const eventBlock = {\n        ...e,\n        eventUid: e.id,\n        duration: 0, // tu pourras calculer la durée si besoin\n      }\n\n      base.days[dayIndex][hour][minuteKey].events.push(eventBlock)\n      coverageArrs[dayIndex].push(\n        findEventCoverage({ startDate: e.startDate, endDate: e.endDate }),\n      )\n    })\n\n    Object.keys(coverageArrs).forEach(keyStr => {\n      const key = Number(keyStr)\n      if (coverageArrs[key].length > 0) {\n        const coverages = reduceCoverages(coverageArrs[key])\n        calculateOverlap(coverages, base.days[key])\n      }\n    })\n\n    setWeekViewEvents(base)\n  }, [events, targetDate, calendarViewType])\n\n  // 3) ajuster la hauteur max\n  useEffect(() => {\n    if (!timelineHeaderRef.current) return\n    const height =\n      timelineHeaderRef.current.getBoundingClientRect().height\n    setTimelineMaxHeight(`calc(100vh - (65px + ${height}px))`)\n  }, [targetDate, weekViewEvents])\n\n  return (\n    <div className=\"flex flex-col w-full\">\n      <TimelineHeader\n        ref={timelineHeaderRef}\n        dates={targetDateRange}\n        calendarViewType={calendarViewType}\n        onClickTimelineBlock={onClickTimelineBlock}\n        onChangeTargetDate={onChangeTargetDate}\n        onClickNewEvent={onClickNewEvent}\n      />\n      <div\n        ref={timelineRef}\n        style={{ maxHeight: timelineMaxHeight }}\n        className=\"flex flex-auto overflow-y-auto pt-4\"\n      >\n        <div className=\"min-w-56\">\n          {Array.from({ length: 14 }).map((_, idx) => {\n            const hour = 6 + idx\n            const date = setMinutes(setHours(new Date(), hour), 0)\n            return (\n              <div\n                key={hour}\n                className=\"flex items-start justify-between h-12 text-gray-500\"\n              >\n                <span className=\"relative text-right -top-2\">\n                  {format(date, 'HH:mm', { locale: fr })}\n                </span>\n                <div className=\"relative w-2 h-12 border-t -top-px\" />\n              </div>\n            )\n          })}\n        </div>\n        {calendarViewType === CalendarViewTypes.WEEK_VIEW &&\n          Object.keys(weekViewEvents || {}).length > 0 && (\n            <Timeline\n              calendarViewType={calendarViewType}\n              data={weekViewEvents}\n              onClickTimelineBlock={onClickTimelineBlock}\n            />\n          )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2582, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/components/Modal/EventDetailModal.tsx"],"sourcesContent":["'use client'\n\nimport { format, isSameDay } from 'date-fns'\nimport { fr } from 'date-fns/locale'\nimport { useRef } from 'react'\nimport { MdClose, MdDelete, MdEdit, MdToday } from 'react-icons/md'\nimport { colorLookup } from '../../utils/helpers'\nimport IconButton from '../Common/Button/IconButton'\nimport { ThemeColorType } from '../../utils/types'\n\ninterface Event {\n  title: string\n  startDate: string\n  endDate: string\n  themeColor: ThemeColorType\n}\n\ninterface EventCreator {\n  displayName: string\n}\n\ninterface SelectedEvent {\n  event: Event\n  eventCreator: EventCreator\n  top: number\n  left: number\n}\n\ninterface EventDetailModalProps {\n  selectedEvent: SelectedEvent\n  onCloseModal: () => void\n}\n\nexport default function EventDetailModal({\n  selectedEvent,\n  onCloseModal,\n}: EventDetailModalProps) {\n  const eventDetailModalRef = useRef<HTMLDivElement | null>(null)\n\n  const parseEventDate = (startDate: string, endDate: string): string => {\n    const start = new Date(startDate)\n    const end = new Date(endDate)\n\n    if (isSameDay(start, end)) {\n      // Exemple : \"jeudi 4 décembre · 14:00 – 16:00\"\n      return `${format(start, 'EEEE d MMMM', { locale: fr })} · ${format(\n        start,\n        'HH:mm',\n        { locale: fr },\n      )} – ${format(end, 'HH:mm', { locale: fr })}`\n    } else {\n      // Exemple : \"4 déc. 2025 14:00 – 5 déc. 2025 16:00\"\n      return `${format(start, 'd MMM yyyy HH:mm', {\n        locale: fr,\n      })} – ${format(end, 'd MMM yyyy HH:mm', { locale: fr })}`\n    }\n  }\n\n  const { event, eventCreator } = selectedEvent\n\n  return (\n    <div\n      ref={eventDetailModalRef}\n      style={{\n        top: selectedEvent.top,\n        left: selectedEvent.left,\n      }}\n      className=\"absolute z-50 py-2 transition bg-white rounded-md min-w-448 eventDetailModalBoxShadow\"\n    >\n      <div className=\"flex items-center justify-end px-1.5\">\n        <IconButton\n          size=\"small\"\n          label=\"Modifier\"\n          tooltipLocation=\"top\"\n          imgComponent={<MdEdit size=\"20px\" color=\"gray\" />}\n          onClickHandler={() => {}}\n        />\n        <IconButton\n          size=\"small\"\n          label=\"Supprimer\"\n          tooltipLocation=\"top\"\n          imgComponent={<MdDelete size=\"20px\" color=\"gray\" />}\n          onClickHandler={() => {}}\n        />\n        <IconButton\n          size=\"small\"\n          label=\"Fermer\"\n          tooltipLocation=\"top\"\n          imgComponent={<MdClose size=\"20px\" color=\"gray\" />}\n          onClickHandler={onCloseModal}\n        />\n      </div>\n\n      <div>\n        <div className=\"flex px-5\">\n          <div className=\"flex items-start justify-center\">\n            <div\n              className={`mt-0.5 h-3.5 w-3.5 rounded-sm ${\n                colorLookup[event.themeColor]\n              }`}\n            />\n          </div>\n          <div className=\"flex flex-col items-start justify-start flex-auto pl-6\">\n            <span className=\"text-xl leading-none\">\n              {event.title}\n            </span>\n            <span className=\"pt-2 text-xs font-normal text-gray-500\">\n              {parseEventDate(event.startDate, event.endDate)}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"flex px-4 pb-2 mt-4\">\n          <div className=\"pl-0.5 flex items-center justify-center\">\n            <MdToday size=\"20px\" color=\"gray\" />\n          </div>\n          <div className=\"flex items-start justify-start flex-auto pl-5 text-xs text-gray-500\">\n            {eventCreator.displayName}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAiCe,SAAS,iBAAiB,EACvC,aAAa,EACb,YAAY,EACU;IACtB,MAAM,sBAAsB,IAAA,+MAAM,EAAwB;IAE1D,MAAM,iBAAiB,CAAC,WAAmB;QACzC,MAAM,QAAQ,IAAI,KAAK;QACvB,MAAM,MAAM,IAAI,KAAK;QAErB,IAAI,IAAA,qJAAS,EAAC,OAAO,MAAM;YACzB,+CAA+C;YAC/C,OAAO,GAAG,IAAA,+JAAM,EAAC,OAAO,eAAe;gBAAE,QAAQ,iJAAE;YAAC,GAAG,GAAG,EAAE,IAAA,+JAAM,EAChE,OACA,SACA;gBAAE,QAAQ,iJAAE;YAAC,GACb,GAAG,EAAE,IAAA,+JAAM,EAAC,KAAK,SAAS;gBAAE,QAAQ,iJAAE;YAAC,IAAI;QAC/C,OAAO;YACL,oDAAoD;YACpD,OAAO,GAAG,IAAA,+JAAM,EAAC,OAAO,oBAAoB;gBAC1C,QAAQ,iJAAE;YACZ,GAAG,GAAG,EAAE,IAAA,+JAAM,EAAC,KAAK,oBAAoB;gBAAE,QAAQ,iJAAE;YAAC,IAAI;QAC3D;IACF;IAEA,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,GAAG;IAEhC,qBACE,8OAAC;QACC,KAAK;QACL,OAAO;YACL,KAAK,cAAc,GAAG;YACtB,MAAM,cAAc,IAAI;QAC1B;QACA,WAAU;;0BAEV,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,+JAAU;wBACT,MAAK;wBACL,OAAM;wBACN,iBAAgB;wBAChB,4BAAc,8OAAC,wJAAM;4BAAC,MAAK;4BAAO,OAAM;;;;;;wBACxC,gBAAgB,KAAO;;;;;;kCAEzB,8OAAC,+JAAU;wBACT,MAAK;wBACL,OAAM;wBACN,iBAAgB;wBAChB,4BAAc,8OAAC,0JAAQ;4BAAC,MAAK;4BAAO,OAAM;;;;;;wBAC1C,gBAAgB,KAAO;;;;;;kCAEzB,8OAAC,+JAAU;wBACT,MAAK;wBACL,OAAM;wBACN,iBAAgB;wBAChB,4BAAc,8OAAC,yJAAO;4BAAC,MAAK;4BAAO,OAAM;;;;;;wBACzC,gBAAgB;;;;;;;;;;;;0BAIpB,8OAAC;;kCACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCACC,WAAW,CAAC,8BAA8B,EACxC,sIAAW,CAAC,MAAM,UAAU,CAAC,EAC7B;;;;;;;;;;;0CAGN,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDACb,MAAM,KAAK;;;;;;kDAEd,8OAAC;wCAAK,WAAU;kDACb,eAAe,MAAM,SAAS,EAAE,MAAM,OAAO;;;;;;;;;;;;;;;;;;kCAKpD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,yJAAO;oCAAC,MAAK;oCAAO,OAAM;;;;;;;;;;;0CAE7B,8OAAC;gCAAI,WAAU;0CACZ,aAAa,WAAW;;;;;;;;;;;;;;;;;;;;;;;;AAMrC","debugId":null}},
    {"offset": {"line": 2796, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/components/GoogleAgenda/GoogleAgenda.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport PanelLeft from './Panel/PanelLeft'\nimport CreateEventModal, {\n  CreateEventPayload,\n} from '../Modal/CreateEventModal'\nimport TimelineWrapper from '../Timeline/TimelineWrapper'\nimport EventDetailModal from '../Modal/EventDetailModal'\nimport { CalendarViewTypes, ThemeColorType } from '../../utils/types'\n\nexport interface UiEvent {\n  id: string\n  title: string\n  description: string\n  location: string\n  startDate: string\n  endDate: string\n  isAllDay: boolean\n  themeColor: ThemeColorType\n}\n\nexport interface SelectedEventState {\n  eventUid: string\n  top: number\n  left: number\n  height: number\n  width: number\n}\n\nexport default function GoogleAgenda() {\n  const [targetDate, setTargetDate] = useState<string>( new Date().toString(),)\n  const [calendarViewType] = useState(CalendarViewTypes.WEEK_VIEW)\n  const [events, setEvents] = useState<UiEvent[]>([])\n  const [isCreateEventModalOpen, setIsCreateEventModalOpen] = useState(false)\n  const [selectedEvent, setSelectedEvent] = useState<SelectedEventState>({\n    eventUid: '',\n    top: 0,\n    left: 0,\n    height: 0,\n    width: 0,\n  })\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false)\n\n  // TODO plus tard : fetch depuis Google Calendar quand targetDate change\n  useEffect(() => {\n    // Exemple : listEvents({ timeMin, timeMax }) puis setEvents(...)\n  }, [targetDate])\n\n  const handleOpenCreateModal = (basis?: {\n    startDate: string\n    endDate: string\n  }) => {\n    // tu peux propager basis à CreateEventModal si tu veux\n    setIsCreateEventModalOpen(true)\n  }\n\n  const handleSaveEvent = (payload: CreateEventPayload) => {\n    // Pour l’instant on stocke juste en local\n    setEvents(prev => [\n      ...prev,\n      {\n        id: payload.id ?? crypto.randomUUID(),\n        ...payload,\n      },\n    ])\n\n    // TODO : ici tu appelleras l’API Google Calendar (events.insert) [web:201][web:229]\n  }\n\n  const handleCloseEventDetailModal = () => {\n    setSelectedEvent(prev => ({\n      ...prev,\n      eventUid: '',\n    }))\n    setIsEditModalOpen(false)\n  }\n\n  const selectedEventData =\n    selectedEvent.eventUid.length > 0\n      ? events.find(e => e.id === selectedEvent.eventUid)\n      : undefined\n\n  return (\n    <div className=\"flex flex-col w-full max-w-[1500px] mx-auto\">\n      <div className=\"flex gap-4\">\n        <PanelLeft\n          targetDate={targetDate}\n          setTargetDate={setTargetDate}\n          onClickNewEvent={handleOpenCreateModal}\n        />\n        <div className=\"w-full flex flex-col\">\n          <TimelineWrapper\n            calendarViewType={calendarViewType}\n            targetDate={targetDate}\n            events={events}\n            onChangeTargetDate={setTargetDate}\n            onSelectEvent={setSelectedEvent}\n            onClickNewEvent={handleOpenCreateModal}\n          />\n        </div>\n      </div>\n\n      <CreateEventModal\n        isOpen={isCreateEventModalOpen}\n        onClose={() => setIsCreateEventModalOpen(false)}\n        onSave={handleSaveEvent}\n      />\n\n      {selectedEventData && (\n        <>\n          <div className=\"absolute top-0 left-0 w-full h-full z-1\" />\n          <EventDetailModal\n            selectedEvent={{\n              ...selectedEvent,\n              event: {\n                title: selectedEventData.title,\n                startDate: selectedEventData.startDate,\n                endDate: selectedEventData.endDate,\n                themeColor: selectedEventData.themeColor,\n              },\n              eventCreator: {\n                displayName: 'Créé via GoogleAgenda', // plus tard: auteur réel\n              },\n            }}\n            onCloseModal={handleCloseEventDetailModal}\n          />\n        </>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAGA;AACA;AACA;AATA;;;;;;;;AA8Be,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAU,IAAI,OAAO,QAAQ;IACzE,MAAM,CAAC,iBAAiB,GAAG,IAAA,iNAAQ,EAAC,0IAAiB,CAAC,SAAS;IAC/D,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAY,EAAE;IAClD,MAAM,CAAC,wBAAwB,0BAA0B,GAAG,IAAA,iNAAQ,EAAC;IACrE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAqB;QACrE,UAAU;QACV,KAAK;QACL,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IAEvD,wEAAwE;IACxE,IAAA,kNAAS,EAAC;IACR,iEAAiE;IACnE,GAAG;QAAC;KAAW;IAEf,MAAM,wBAAwB,CAAC;QAI7B,uDAAuD;QACvD,0BAA0B;IAC5B;IAEA,MAAM,kBAAkB,CAAC;QACvB,0CAA0C;QAC1C,UAAU,CAAA,OAAQ;mBACb;gBACH;oBACE,IAAI,QAAQ,EAAE,IAAI,OAAO,UAAU;oBACnC,GAAG,OAAO;gBACZ;aACD;IAED,oFAAoF;IACtF;IAEA,MAAM,8BAA8B;QAClC,iBAAiB,CAAA,OAAQ,CAAC;gBACxB,GAAG,IAAI;gBACP,UAAU;YACZ,CAAC;QACD,mBAAmB;IACrB;IAEA,MAAM,oBACJ,cAAc,QAAQ,CAAC,MAAM,GAAG,IAC5B,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,cAAc,QAAQ,IAChD;IAEN,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,mKAAS;wBACR,YAAY;wBACZ,eAAe;wBACf,iBAAiB;;;;;;kCAEnB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,4JAAe;4BACd,kBAAkB;4BAClB,YAAY;4BACZ,QAAQ;4BACR,oBAAoB;4BACpB,eAAe;4BACf,iBAAiB;;;;;;;;;;;;;;;;;0BAKvB,8OAAC,0JAAgB;gBACf,QAAQ;gBACR,SAAS,IAAM,0BAA0B;gBACzC,QAAQ;;;;;;YAGT,mCACC;;kCACE,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC,0JAAgB;wBACf,eAAe;4BACb,GAAG,aAAa;4BAChB,OAAO;gCACL,OAAO,kBAAkB,KAAK;gCAC9B,WAAW,kBAAkB,SAAS;gCACtC,SAAS,kBAAkB,OAAO;gCAClC,YAAY,kBAAkB,UAAU;4BAC1C;4BACA,cAAc;gCACZ,aAAa;4BACf;wBACF;wBACA,cAAc;;;;;;;;;;;;;;AAM1B","debugId":null}},
    {"offset": {"line": 2947, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport RollingSlider from \"./components/Slider/RollingSlider\";\r\nimport { useData } from \"@/app/contexts/data\";\r\nimport { useUser, SignedOut, SignInButton } from \"@clerk/nextjs\";\r\nimport GoogleAgenda from \"./components/GoogleAgenda/GoogleAgenda\";\r\n\r\nexport default function Home() {\r\n  const { isLoaded, user } = useUser();\r\n  const data = useData();\r\n  if (!isLoaded) {\r\n  return (\r\n    <div className=\"flex items-center justify-center h-screen w-full\">\r\n      <div className=\"flex flex-col items-center\">\r\n        <div className=\"h-12 w-12 animate-spin rounded-full border-4 border-blue-500 border-t-transparent\"></div>\r\n        <p className=\"mt-4 text-lg font-medium text-gray-600\">Chargement en cours…</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n  function normalizeRoles(role: unknown): string[] {\r\n    if (Array.isArray(role)) return role as string[];\r\n    if (typeof role === \"string\") return [role];\r\n    return [];\r\n  }\r\n  const roles = normalizeRoles(user?.publicMetadata?.role);\r\n  const filteredCategories = data.categories.filter(category => (category.allowedRoles ?? []).some(r => roles.includes(r)));\r\n  const uniqueCategories = Array.from( new Map(filteredCategories.map(cat => [cat.id ?? cat.name, cat])).values());\r\n  return (\r\n    <main className=\"flex flex-col w-full text-xl sm:pt-[5vh]\">\r\n      <GoogleAgenda/>\r\n      {uniqueCategories.length > 0 && (\r\n        <RollingSlider categories={uniqueCategories} />\r\n      )}\r\n      <SignedOut>\r\n        <SignInButton>\r\n          <button className=\"absolute top-[48%] left-[38%] p-4\">Se connecter</button>\r\n        </SignInButton>\r\n      </SignedOut>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,IAAA,uKAAO;IAClC,MAAM,OAAO,IAAA,mIAAO;IACpB,IAAI,CAAC,UAAU;QACf,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAyC;;;;;;;;;;;;;;;;;IAI9D;IACE,SAAS,eAAe,IAAa;QACnC,IAAI,MAAM,OAAO,CAAC,OAAO,OAAO;QAChC,IAAI,OAAO,SAAS,UAAU,OAAO;YAAC;SAAK;QAC3C,OAAO,EAAE;IACX;IACA,MAAM,QAAQ,eAAe,MAAM,gBAAgB;IACnD,MAAM,qBAAqB,KAAK,UAAU,CAAC,MAAM,CAAC,CAAA,WAAY,CAAC,SAAS,YAAY,IAAI,EAAE,EAAE,IAAI,CAAC,CAAA,IAAK,MAAM,QAAQ,CAAC;IACrH,MAAM,mBAAmB,MAAM,IAAI,CAAE,IAAI,IAAI,mBAAmB,GAAG,CAAC,CAAA,MAAO;YAAC,IAAI,EAAE,IAAI,IAAI,IAAI;YAAE;SAAI,GAAG,MAAM;IAC7G,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC,6JAAY;;;;;YACZ,iBAAiB,MAAM,GAAG,mBACzB,8OAAC,wJAAa;gBAAC,YAAY;;;;;;0BAE7B,8OAAC,sLAAS;0BACR,cAAA,8OAAC,2LAAY;8BACX,cAAA,8OAAC;wBAAO,WAAU;kCAAoC;;;;;;;;;;;;;;;;;;;;;;AAKhE","debugId":null}}]
}