{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/f.hacqueville/OneDrive%20-%20LYCEE%20LA%20PROVIDENCE%20NICOLAS%20BARRE/Code/docsLaPro/app/weekCalendar/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\n\r\ntype ScheduleData = {\r\n  [person: string]: {\r\n    [day: string]: { [timeRange: string]: string }[];\r\n  };\r\n};\r\n\r\nconst daysOfWeek = [\"Lundi\", \"Mardi\", \"Mercredi\", \"Jeudi\", \"Vendredi\"];\r\n\r\n// Couleurs par personne\r\nconst personColors: Record<string, string> = {\r\n  Audrey: \"bg-pink-400\",\r\n  Emmanuelle: \"bg-blue-400\",\r\n  Sandrine: \"bg-green-400\",\r\n  Christelle: \"bg-purple-400\",\r\n  Karim: \"bg-orange-400\",\r\n  Athéna: \"bg-yellow-400\"\r\n};\r\n\r\nfunction timeToMinutes(time: string): number {\r\n  const [h, m] = time.split(\":\").map(Number);\r\n  return h * 60 + m;\r\n}\r\n\r\nfunction getBlockStyle(timeRange: string) {\r\n  const [start, end] = timeRange.split(\"-\");\r\n  const startMin = timeToMinutes(start);\r\n  const endMin = timeToMinutes(end);\r\n  const dayStart = 7 * 60; // commence à 07:00\r\n  const pixelsPerMinute = 1.1; // 1 minute = 1px\r\n  return {\r\n    top: `${(startMin - dayStart) * pixelsPerMinute}px`,\r\n    height: `${(endMin - startMin) * pixelsPerMinute}px`\r\n  };\r\n}\r\n\r\nexport default function AgendaHebdo() {\r\n  const [schedule, setSchedule] = useState<ScheduleData>({});\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetch(\"/semaine-lycée-GSON.json\")\r\n      .then((res) => res.json())\r\n      .then((data: ScheduleData) => {\r\n        setSchedule(data);\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Erreur de chargement JSON :\", error);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <div className=\"p-6 text-gray-500\">Chargement de l'agenda...</div>;\r\n  }\r\n\r\n  // Regrouper les événements par jour et par personne\r\n  const eventsByDay: {\r\n    [day: string]: { person: string; timeRange: string; task: string }[];\r\n  } = {};\r\n\r\n  for (const [person, days] of Object.entries(schedule)) {\r\n    for (const [day, events] of Object.entries(days)) {\r\n      if (!eventsByDay[day]) eventsByDay[day] = [];\r\n      for (const ev of events) {\r\n        const [timeRange, task] = Object.entries(ev)[0];\r\n        eventsByDay[day].push({ person, timeRange, task });\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 overflow-x-auto\">\r\n      <div className=\"grid grid-cols-5 gap-2 relative border-t border-l min-h-[800px]\">\r\n        {daysOfWeek.map((day) => {\r\n          const dayEvents = eventsByDay[day] || [];\r\n          // Extraire les personnes présentes ce jour\r\n          const personsForDay = Array.from(new Set(dayEvents.map((e) => e.person)));\r\n\r\n          return (\r\n            <div key={day} className=\"relative border-r border-gray-300 min-h-[800px]\">\r\n              <h2 className=\"text-center font-semibold bg-gray-100 p-2 sticky top-0 z-10\">{day}</h2>\r\n\r\n              <div className=\"relative flex w-full min-h-[800px]\">\r\n                {personsForDay.map((person) => (\r\n                  <div key={person} className=\"relative flex-1 border-l border-gray-200\">\r\n                    <h3 className=\"text-xs text-center font-medium bg-gray-50 sticky top-[32px] z-10\">\r\n                      {person}\r\n                    </h3>\r\n                    <div className=\"relative\">\r\n                      {dayEvents\r\n                        .filter((e) => e.person === person)\r\n                        .map((event, idx) => {\r\n                          const style = getBlockStyle(event.timeRange);\r\n                          return (\r\n                            <div\r\n                              key={idx}\r\n                              className={`absolute w-[95%] mx-auto text-white text-xs rounded-md shadow ${personColors[person] || \"bg-gray-400\"}`}\r\n                              style={style}\r\n                            >\r\n                              <div className=\"text-xs\">{event.timeRange}</div>\r\n                              <div>{event.task}</div>\r\n                            </div>\r\n                          );\r\n                        })}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}